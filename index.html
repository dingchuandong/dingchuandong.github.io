<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="iOS">
<meta property="og:type" content="website">
<meta property="og:title" content="Snow Memory">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Snow Memory">
<meta property="og:description" content="iOS">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Snow Memory">
<meta name="twitter:description" content="iOS">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'åšä¸»'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>

  <title> Snow Memory </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta custom-logo">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Snow Memory</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">é›ªå¿†, å¦‚é›ªèˆ¬å•çº¯, å†·é™æ€è€ƒ.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-ç§¯ç´¯ " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/03/12/NSInvocation/" itemprop="url">
                  NSInvocation
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2018-03-12T17:25:19+08:00" content="Mar 12 2018">
              Mar 12 2018
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="NSInvocation"><a href="#NSInvocation" class="headerlink" title="NSInvocation"></a>NSInvocation</h1><h2 id="ä¸€ã€æ¦‚å¿µ"><a href="#ä¸€ã€æ¦‚å¿µ" class="headerlink" title="ä¸€ã€æ¦‚å¿µ"></a>ä¸€ã€æ¦‚å¿µ</h2><h3 id="åœ¨-iOSä¸­å¯ä»¥ç›´æ¥è°ƒç”¨æŸä¸ªå¯¹è±¡çš„æ¶ˆæ¯æ–¹å¼æœ‰ä¸¤ç§ï¼š"><a href="#åœ¨-iOSä¸­å¯ä»¥ç›´æ¥è°ƒç”¨æŸä¸ªå¯¹è±¡çš„æ¶ˆæ¯æ–¹å¼æœ‰ä¸¤ç§ï¼š" class="headerlink" title="åœ¨ iOSä¸­å¯ä»¥ç›´æ¥è°ƒç”¨æŸä¸ªå¯¹è±¡çš„æ¶ˆæ¯æ–¹å¼æœ‰ä¸¤ç§ï¼š"></a>åœ¨ iOSä¸­å¯ä»¥ç›´æ¥è°ƒç”¨æŸä¸ªå¯¹è±¡çš„æ¶ˆæ¯æ–¹å¼æœ‰ä¸¤ç§ï¼š</h3><ul>
<li>performSelector:withObjectï¼ˆä¸¤ä¸ªä»¥ä¸Šå‚æ•°ä½¿ç”¨æ¯”è¾ƒéº»çƒ¦ï¼‰</li>
<li>NSInvocationï¼ˆå‚æ•°ä¸ªæ•°æ²¡æœ‰é™åˆ¶ï¼‰<h2 id="äºŒã€ä½¿ç”¨"><a href="#äºŒã€ä½¿ç”¨" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    </div><div class="line">    [self performSelector:@selector(sendMessage:) withObject:@&quot;performSelector&quot;];</div><div class="line">    </div><div class="line">    //æ²¡æœ‰è¿”å›å€¼</div><div class="line">    [self createInvocation];</div><div class="line">    </div><div class="line">    //æœ‰è¿”å›å€¼</div><div class="line">    [self returnValueInvocation];</div><div class="line">&#125;</div><div class="line">- (void)createInvocation</div><div class="line">&#123;</div><div class="line">    //NSInvocation;ç”¨æ¥åŒ…è£…æ–¹æ³•å’Œå¯¹åº”çš„å¯¹è±¡ï¼Œå®ƒå¯ä»¥å­˜å‚¨æ–¹æ³•çš„åç§°ï¼Œå¯¹åº”çš„å¯¹è±¡ï¼Œå¯¹åº”çš„å‚æ•°,</div><div class="line">    /*</div><div class="line">     NSMethodSignatureï¼šç­¾åï¼šå†åˆ›å»ºNSMethodSignatureçš„æ—¶å€™ï¼Œå¿…é¡»ä¼ é€’ä¸€ä¸ªç­¾åå¯¹è±¡ï¼Œç­¾åå¯¹è±¡çš„ä½œç”¨ï¼šç”¨äºè·å–å‚æ•°çš„ä¸ªæ•°å’Œæ–¹æ³•çš„è¿”å›å€¼</div><div class="line">     */</div><div class="line">    //åˆ›å»ºç­¾åå¯¹è±¡çš„æ—¶å€™ä¸æ˜¯ä½¿ç”¨NSMethodSignatureè¿™ä¸ªç±»åˆ›å»ºï¼Œè€Œæ˜¯æ–¹æ³•å±äºè°å°±ç”¨è°æ¥åˆ›å»º</div><div class="line">    NSMethodSignature *signature = [ViewController instanceMethodSignatureForSelector:@selector(sendMessage:)];</div><div class="line">    //1ã€åˆ›å»ºNSInvocationå¯¹è±¡</div><div class="line">    NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:signature];</div><div class="line">    invocation.target = self;</div><div class="line">    //invocationä¸­çš„æ–¹æ³•å¿…é¡»å’Œç­¾åä¸­çš„æ–¹æ³•ä¸€è‡´ã€‚</div><div class="line">    invocation.selector = @selector(sendMessage:);</div><div class="line">    /*ç¬¬ä¸€ä¸ªå‚æ•°ï¼šéœ€è¦ç»™æŒ‡å®šæ–¹æ³•ä¼ é€’çš„å€¼</div><div class="line">     ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦æ¥æ”¶ä¸€ä¸ªæŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯ä¼ é€’å€¼çš„æ—¶å€™éœ€è¦ä¼ é€’åœ°å€*/</div><div class="line">    //ç¬¬äºŒä¸ªå‚æ•°ï¼šéœ€è¦ç»™æŒ‡å®šæ–¹æ³•çš„ç¬¬å‡ ä¸ªå‚æ•°ä¼ å€¼</div><div class="line">    NSString *number = @&quot;NSInvocation&quot;;</div><div class="line">    //æ³¨æ„ï¼šè®¾ç½®å‚æ•°çš„ç´¢å¼•æ—¶ä¸èƒ½ä»0å¼€å§‹ï¼Œå› ä¸º0å·²ç»è¢«selfå ç”¨ï¼Œ1å·²ç»è¢«_cmdå ç”¨</div><div class="line">    [invocation setArgument:&amp;number atIndex:2];</div><div class="line">    //2ã€è°ƒç”¨NSInvocationå¯¹è±¡çš„invokeæ–¹æ³•</div><div class="line">    //åªè¦è°ƒç”¨invocationçš„invokeæ–¹æ³•ï¼Œå°±ä»£è¡¨éœ€è¦æ‰§è¡ŒNSInvocationå¯¹è±¡ä¸­åˆ¶å®šå¯¹è±¡çš„æŒ‡å®šæ–¹æ³•ï¼Œå¹¶ä¸”ä¼ é€’æŒ‡å®šçš„å‚æ•°</div><div class="line">    [invocation invoke];</div><div class="line">&#125;</div><div class="line">- (void)returnValueInvocation</div><div class="line">&#123;</div><div class="line">    SEL myMethod = @selector(returnMessage:parm:parm:);</div><div class="line">    NSMethodSignature *sig  = [[self class] instanceMethodSignatureForSelector:myMethod];</div><div class="line">    NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:sig];</div><div class="line">    [invocation setTarget:self];</div><div class="line">    [invocation setSelector:myMethod];</div><div class="line">    int a=1;</div><div class="line">    int b=2;</div><div class="line">    int c=3;</div><div class="line">    [invocation setArgument:&amp;a atIndex:2];</div><div class="line">    [invocation setArgument:&amp;b atIndex:3];</div><div class="line">    [invocation setArgument:&amp;c atIndex:4];</div><div class="line">    </div><div class="line">    [invocation invoke];</div><div class="line">    //è·å–è¿”å›å€¼ç±»å‹</div><div class="line">    const char * returnValueType = sig.methodReturnType;</div><div class="line">    //å£°æ˜ä¸€ä¸ªè¿”å›å€¼å˜é‡ (arcæ¨¡å¼ä¸‹ï¼ŒgetReturnValueï¼šä»…ä»…æ˜¯ä»invocationçš„è¿”å›å€¼æ‹·è´åˆ°æŒ‡å®šçš„å†…å­˜åœ°å€ï¼Œå¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªNSObjectå¯¹è±¡çš„è¯ï¼Œæ˜¯æ²¡æœ‰å¤„ç†èµ·å†…å­˜ç®¡ç†çš„ã€‚è€Œæˆ‘ä»¬åœ¨å®šä¹‰resultSetæ—¶ä½¿ç”¨çš„æ˜¯__strongç±»å‹çš„æŒ‡é’ˆå¯¹è±¡ï¼Œarcå°±ä¼šå‡è®¾è¯¥å†…å­˜å—å·²è¢«retainï¼ˆå®é™…æ²¡æœ‰ï¼‰ï¼Œå½“resultSetå‡ºäº†å®šä¹‰åŸŸé‡Šæ”¾æ—¶ï¼Œå¯¼è‡´è¯¥crashã€‚å‡å¦‚åœ¨å®šä¹‰ä¹‹å‰æœ‰èµ‹å€¼çš„è¯ï¼Œè¿˜ä¼šé€ æˆå†…å­˜æ³„éœ²çš„é—®é¢˜ã€‚)</div><div class="line">     __unsafe_unretained NSObject *returnValue = nil;</div><div class="line">    </div><div class="line">    //å¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯å£°æ˜ä¸ºvoidï¼Œé‚£ä¹ˆreturnValue ï¼ nil</div><div class="line">    if (!strcmp(returnValueType, @encode(void))) &#123;</div><div class="line">        NSLog(@&quot;æ²¡æœ‰è¿”å›å€¼ï¼Œå³è¿”å›å€¼ç±»å‹ä¸ºvoid&quot;);</div><div class="line">        returnValue = nil;</div><div class="line">    &#125;else if (!strcmp(returnValueType, @encode(id)))&#123;</div><div class="line">        //å¦‚æœè¿”å›å€¼ä¸ºå¯¹è±¡ï¼Œé‚£ä¹ˆä¸ºå˜é‡èµ‹å€¼</div><div class="line">        NSLog(@&quot;è¿”å›å€¼ç±»å‹ä¸ºå¯¹è±¡&quot;);</div><div class="line">        [invocation getReturnValue:&amp;returnValueType];</div><div class="line">    &#125;else &#123;</div><div class="line">        //å¦‚æœè¿”å›å€¼ä¸ºæ™®é€šç±»å‹ï¼Œå¦‚NSIntegerï¼Œ NSUInteger ï¼ŒBOOLç­‰</div><div class="line">        NSLog(@&quot;è¿”å›ç±»å‹ä¸ºæ™®é€šç±»å‹&quot;);</div><div class="line">        //é¦–å…ˆè·å–è¿”å›å€¼é•¿åº¦</div><div class="line">        NSUInteger returnValueLenth = sig.methodReturnLength;</div><div class="line">        //æ ¹æ®é•¿åº¦ç”³è¯·å†…å­˜</div><div class="line">        void *retValue = (void *)malloc(returnValueLenth);</div><div class="line">        //ä¸ºretValueèµ‹å€¼</div><div class="line">        [invocation getReturnValue:retValue];</div><div class="line">        </div><div class="line">        if (!strcmp(returnValueType, @encode(BOOL))) &#123;</div><div class="line">            returnValue = [NSNumber numberWithBool:*((BOOL *)retValue)];</div><div class="line">        &#125;else if (!strcmp(returnValueType, @encode(NSInteger)))&#123;</div><div class="line">            returnValue = [NSNumber numberWithInteger:*((NSInteger *) retValue)];</div><div class="line">        &#125;else if (!strcmp(returnValueType, @encode(int)))&#123;</div><div class="line">            returnValue = [NSNumber numberWithInt:*((int *) retValue)];</div><div class="line">        &#125;</div><div class="line">        // ã€ã€ã€å…¶ä»–ç±»å‹</div><div class="line">    &#125;</div><div class="line">    NSLog(@&quot;è¿”å›å€¼æ˜¯ï¼š%@&quot;, returnValue);</div><div class="line">&#125;</div><div class="line">- (void)sendMessage:(NSString*)message&#123;</div><div class="line">    NSLog(@&quot;%@è°ƒç”¨äº†æ–¹æ³•&quot;,message);</div><div class="line">&#125;</div><div class="line">- (int)returnMessage:(int)a parm:(int)b parm:(int)c&#123;</div><div class="line">    NSLog(@&quot;MyLog%d:%d:%d&quot;,a,b,c);</div><div class="line">    return a+b+c;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">CTMediator[12211:1876597] performSelectorè°ƒç”¨äº†æ–¹æ³•</div><div class="line">CTMediator[12211:1876597] NSInvocationè°ƒç”¨äº†æ–¹æ³•</div><div class="line">CTMediator[12211:1876597] MyLog1:2:3</div><div class="line">CTMediator[12211:1876597] è¿”å›ç±»å‹ä¸ºæ™®é€šç±»å‹</div><div class="line">CTMediator[12211:1876597] è¿”å›å€¼æ˜¯ï¼š6</div></pre></td></tr></table></figure>
<h3 id="Objective-Cç±»å‹ç¼–ç å¯¹åº”è¡¨ä¸ºï¼š"><a href="#Objective-Cç±»å‹ç¼–ç å¯¹åº”è¡¨ä¸ºï¼š" class="headerlink" title="Objective-Cç±»å‹ç¼–ç å¯¹åº”è¡¨ä¸ºï¼š"></a>Objective-Cç±»å‹ç¼–ç å¯¹åº”è¡¨ä¸ºï¼š</h3><table>
<thead>
<tr>
<th>ç¼–ç </th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>char</td>
</tr>
<tr>
<td>i</td>
<td>int</td>
</tr>
<tr>
<td>s</td>
<td>short</td>
</tr>
<tr>
<td>l</td>
<td>longåœ¨64ä½ç¨‹åºä¸­ï¼Œlä¸º32ä½</td>
</tr>
<tr>
<td>q</td>
<td>long long</td>
</tr>
<tr>
<td>C</td>
<td>unsigned char</td>
</tr>
<tr>
<td>I</td>
<td>unsigned int</td>
</tr>
<tr>
<td>S</td>
<td>unsigned short</td>
</tr>
<tr>
<td>L</td>
<td>unsigned long</td>
</tr>
<tr>
<td>Q</td>
<td>unsigned long long</td>
</tr>
<tr>
<td>f</td>
<td>float</td>
</tr>
<tr>
<td>d</td>
<td>double</td>
</tr>
<tr>
<td>B</td>
<td>C++æ ‡å‡†çš„boolæˆ–è€…C99æ ‡å‡†çš„_Bool</td>
</tr>
<tr>
<td>v</td>
<td>void</td>
</tr>
<tr>
<td>*</td>
<td>å­—ç¬¦ä¸²ï¼ˆchar *ï¼‰</td>
</tr>
<tr>
<td>@</td>
<td>å¯¹è±¡ï¼ˆæ— è®ºæ˜¯é™æ€æŒ‡å®šçš„è¿˜æ˜¯é€šè¿‡idå¼•ç”¨çš„ï¼‰</td>
</tr>
<tr>
<td>#</td>
<td>ç±»ï¼ˆclassï¼‰</td>
</tr>
<tr>
<td>:</td>
<td>æ–¹æ³•é€‰æ ‡ï¼ˆSELï¼‰</td>
</tr>
<tr>
<td>[array type]</td>
<td>æ•°ç»„</td>
</tr>
<tr>
<td>{name=typeâ€¦}</td>
<td>ç»“æ„ä½“</td>
</tr>
<tr>
<td>(name=typeâ€¦)</td>
<td>è”åˆä½“</td>
</tr>
<tr>
<td>bnum</td>
<td>numä¸ªbitçš„ä½åŸŸ</td>
</tr>
<tr>
<td>^type</td>
<td>typeç±»å‹çš„æŒ‡é’ˆ</td>
</tr>
<tr>
<td>?</td>
<td>æœªçŸ¥ç±»å‹ï¼ˆå…¶ä»–çš„æƒ…å†µï¼Œä¸€èˆ¬ç”¨æ¥æŒ‡å‡½æ•°æŒ‡é’ˆ</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-ç§¯ç´¯ " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/11/UIViewContentModeå°è®°/" itemprop="url">
                  UIViewContentModeå°è®°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2018-01-11T18:25:19+08:00" content="Jan 11 2018">
              Jan 11 2018
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UIViewContentModeå°è®°"><a href="#UIViewContentModeå°è®°" class="headerlink" title="UIViewContentModeå°è®°"></a>UIViewContentModeå°è®°</h1><h2 id="å¼€å‘ä¸­ç»å¸¸ä¼šå‡ºç°æœåŠ¡å™¨ä¸‹è½½å›¾ç‰‡çš„å°ºå¯¸æ¯”ä¾‹ä¸UIä¸Šä¸ä¸€è‡´çš„é—®é¢˜ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦è®¾ç½®å›¾ç‰‡çš„contentModeæ¥è¿›è¡Œé€‚é…ã€‚"><a href="#å¼€å‘ä¸­ç»å¸¸ä¼šå‡ºç°æœåŠ¡å™¨ä¸‹è½½å›¾ç‰‡çš„å°ºå¯¸æ¯”ä¾‹ä¸UIä¸Šä¸ä¸€è‡´çš„é—®é¢˜ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦è®¾ç½®å›¾ç‰‡çš„contentModeæ¥è¿›è¡Œé€‚é…ã€‚" class="headerlink" title="å¼€å‘ä¸­ç»å¸¸ä¼šå‡ºç°æœåŠ¡å™¨ä¸‹è½½å›¾ç‰‡çš„å°ºå¯¸æ¯”ä¾‹ä¸UIä¸Šä¸ä¸€è‡´çš„é—®é¢˜ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦è®¾ç½®å›¾ç‰‡çš„contentModeæ¥è¿›è¡Œé€‚é…ã€‚"></a>å¼€å‘ä¸­ç»å¸¸ä¼šå‡ºç°æœåŠ¡å™¨ä¸‹è½½å›¾ç‰‡çš„å°ºå¯¸æ¯”ä¾‹ä¸UIä¸Šä¸ä¸€è‡´çš„é—®é¢˜ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦è®¾ç½®å›¾ç‰‡çš„contentModeæ¥è¿›è¡Œé€‚é…ã€‚</h2><h3 id="å±æ€§å¦‚ä¸‹ï¼š"><a href="#å±æ€§å¦‚ä¸‹ï¼š" class="headerlink" title="å±æ€§å¦‚ä¸‹ï¼š"></a>å±æ€§å¦‚ä¸‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">typedef NS_ENUM(NSInteger, UIViewContentMode) &#123;</div><div class="line">//å›¾ç‰‡æ‹‰ä¼¸å¡«å……è‡³æ•´ä¸ªUIImageView(å›¾ç‰‡å¯èƒ½ä¼šå˜å½¢),è¿™ä¹Ÿæ˜¯é»˜è®¤çš„å±æ€§,å¦‚æœä»€ä¹ˆéƒ½ä¸è®¾ç½®å°±æ˜¯å®ƒåœ¨èµ·ä½œç”¨</div><div class="line">    UIViewContentModeScaleToFill,</div><div class="line">//å›¾ç‰‡æ‹‰ä¼¸è‡³å®Œå…¨æ˜¾ç¤ºåœ¨UIImageViewé‡Œé¢ä¸ºæ­¢(å›¾ç‰‡ä¸ä¼šå˜å½¢)</div><div class="line">    UIViewContentModeScaleAspectFit,</div><div class="line">//å›¾ç‰‡æ‹‰ä¼¸è‡³å›¾ç‰‡çš„çš„å®½åº¦æˆ–è€…é«˜åº¦ç­‰äºUIImageViewçš„å®½åº¦æˆ–è€…é«˜åº¦ä¸ºæ­¢.çœ‹å›¾ç‰‡çš„å®½é«˜å“ªä¸€è¾¹æœ€æ¥è¿‘UIImageViewçš„å®½é«˜,ä¸€ä¸ªå±æ€§ç›¸ç­‰åå¦ä¸€ä¸ªå°±åœæ­¢æ‹‰ä¼¸.</div><div class="line">    UIViewContentModeScaleAspectFill,</div><div class="line">//è°ƒç”¨setNeedsDisplay æ–¹æ³•æ—¶,å°±ä¼šé‡æ–°æ¸²æŸ“å›¾ç‰‡</div><div class="line"></div><div class="line">//ä¸‹é¢çš„å±æ€§éƒ½æ˜¯ä¸ä¼šæ‹‰ä¼¸å›¾ç‰‡çš„</div><div class="line">    UIViewContentModeRedraw,</div><div class="line">//ä¸­é—´æ¨¡å¼</div><div class="line">    UIViewContentModeCenter, </div><div class="line">//é¡¶éƒ¨</div><div class="line">    UIViewContentModeTop,</div><div class="line">//åº•éƒ¨</div><div class="line">    UIViewContentModeBottom,</div><div class="line">//å·¦è¾¹</div><div class="line">    UIViewContentModeLeft,</div><div class="line">//å³è¾¹</div><div class="line">    UIViewContentModeRight,</div><div class="line">//å·¦ä¸Š</div><div class="line">    UIViewContentModeTopLeft,</div><div class="line">//å³ä¸Š</div><div class="line">    UIViewContentModeTopRight,</div><div class="line">//å·¦ä¸‹</div><div class="line">    UIViewContentModeBottomLeft,</div><div class="line">//å³ä¸‹</div><div class="line">    UIViewContentModeBottomRight,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="æµ‹è¯•åŸå›¾å¦‚ä¸‹ï¼š"><a href="#æµ‹è¯•åŸå›¾å¦‚ä¸‹ï¼š" class="headerlink" title="æµ‹è¯•åŸå›¾å¦‚ä¸‹ï¼š"></a>æµ‹è¯•åŸå›¾å¦‚ä¸‹ï¼š</h3><p><img src="https://boke-1256188736.cos.ap-chengdu.myqcloud.com/v.jpg" alt=""><br><img src="https://boke-1256188736.cos.ap-chengdu.myqcloud.com/h.jpg" alt=""></p>
<h3 id="é»˜è®¤ï¼ˆUIViewContentModeScaleToFillï¼‰"><a href="#é»˜è®¤ï¼ˆUIViewContentModeScaleToFillï¼‰" class="headerlink" title="é»˜è®¤ï¼ˆUIViewContentModeScaleToFillï¼‰"></a>é»˜è®¤ï¼ˆUIViewContentModeScaleToFillï¼‰</h3><p><img src="https://boke-1256188736.cos.ap-chengdu.myqcloud.com/UIViewContentModeScaleToFill.png" alt=""></p>
<h3 id="UIViewContentModeScaleAspectFit"><a href="#UIViewContentModeScaleAspectFit" class="headerlink" title="UIViewContentModeScaleAspectFit"></a>UIViewContentModeScaleAspectFit</h3><p><img src="https://boke-1256188736.cos.ap-chengdu.myqcloud.com/UIViewContentModeScaleAspectFit.png" alt=""></p>
<h3 id="UIViewContentModeScaleToFill"><a href="#UIViewContentModeScaleToFill" class="headerlink" title="UIViewContentModeScaleToFill"></a>UIViewContentModeScaleToFill</h3><p><img src="https://boke-1256188736.cos.ap-chengdu.myqcloud.com/UIViewContentModeScaleToFill.png" alt=""></p>
<h3 id="UIViewContentModeScaleAspectFill"><a href="#UIViewContentModeScaleAspectFill" class="headerlink" title="UIViewContentModeScaleAspectFill"></a>UIViewContentModeScaleAspectFill</h3><p><img src="https://boke-1256188736.cos.ap-chengdu.myqcloud.com/UIViewContentModeScaleAspectFill.png" alt=""></p>
<h3 id="UIViewContentModeCenter"><a href="#UIViewContentModeCenter" class="headerlink" title="UIViewContentModeCenter"></a>UIViewContentModeCenter</h3><p><img src="https://boke-1256188736.cos.ap-chengdu.myqcloud.com/UIViewContentModeCenter.png" alt=""></p>
<h3 id="å¦‚æœæƒ³è®©å›¾ç‰‡å æ»¡æ•´ä¸ªçˆ¶å®¹å™¨-å¹¶ä¸”ä¸å˜å½¢-å¯ä»¥é‡‡ç”¨ä¸€ç§æŠ˜ä¸­çš„æ–¹å¼"><a href="#å¦‚æœæƒ³è®©å›¾ç‰‡å æ»¡æ•´ä¸ªçˆ¶å®¹å™¨-å¹¶ä¸”ä¸å˜å½¢-å¯ä»¥é‡‡ç”¨ä¸€ç§æŠ˜ä¸­çš„æ–¹å¼" class="headerlink" title="å¦‚æœæƒ³è®©å›¾ç‰‡å æ»¡æ•´ä¸ªçˆ¶å®¹å™¨,å¹¶ä¸”ä¸å˜å½¢,å¯ä»¥é‡‡ç”¨ä¸€ç§æŠ˜ä¸­çš„æ–¹å¼"></a>å¦‚æœæƒ³è®©å›¾ç‰‡å æ»¡æ•´ä¸ªçˆ¶å®¹å™¨,å¹¶ä¸”ä¸å˜å½¢,å¯ä»¥é‡‡ç”¨ä¸€ç§æŠ˜ä¸­çš„æ–¹å¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">image1.contentMode = UIViewContentModeScaleAspectFill;</div><div class="line">image1.clipsToBounds = YES;</div></pre></td></tr></table></figure>
<p><img src="https://boke-1256188736.cos.ap-chengdu.myqcloud.com/clipsToBounds.png" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/03/NSDecimalNumber è´§å¸å•ä½/" itemprop="url">
                  è´§å¸é‡‘é¢å¤„ç†
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2018-01-03T16:58:13+08:00" content="Jan 3 2018">
              Jan 3 2018
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="åœ¨iOSå¼€å‘ä¸­ï¼Œç»å¸¸é‡åˆ°è´§å¸é‡‘é¢çš„è¡¨ç¤ºä¸è®¡ç®—ï¼Œä½ å¯èƒ½ä¼šä½¿ç”¨-double-æˆ–-float-è¿™æ ·çš„æµ®ç‚¹æ•°ï¼Œä¹Ÿå¯èƒ½ä½¿ç”¨-NSString-ã€‚æ— è®ºç”¨å“ªä¸ªï¼Œéƒ½éœ€è¦å†ç¼–å†™ç¹ççš„ç²¾åº¦æ§åˆ¶ã€å°æ•°ä½æ•°æ§åˆ¶ç­‰ä»£ç ã€‚å…¶å®ï¼Œè‹¹æœä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ ‡å‡†ç±»-NSDecimalNumber-æ¥å¤„ç†è¿™æ ·çš„éœ€æ±‚ã€‚"><a href="#åœ¨iOSå¼€å‘ä¸­ï¼Œç»å¸¸é‡åˆ°è´§å¸é‡‘é¢çš„è¡¨ç¤ºä¸è®¡ç®—ï¼Œä½ å¯èƒ½ä¼šä½¿ç”¨-double-æˆ–-float-è¿™æ ·çš„æµ®ç‚¹æ•°ï¼Œä¹Ÿå¯èƒ½ä½¿ç”¨-NSString-ã€‚æ— è®ºç”¨å“ªä¸ªï¼Œéƒ½éœ€è¦å†ç¼–å†™ç¹ççš„ç²¾åº¦æ§åˆ¶ã€å°æ•°ä½æ•°æ§åˆ¶ç­‰ä»£ç ã€‚å…¶å®ï¼Œè‹¹æœä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ ‡å‡†ç±»-NSDecimalNumber-æ¥å¤„ç†è¿™æ ·çš„éœ€æ±‚ã€‚" class="headerlink" title="åœ¨iOSå¼€å‘ä¸­ï¼Œç»å¸¸é‡åˆ°è´§å¸é‡‘é¢çš„è¡¨ç¤ºä¸è®¡ç®—ï¼Œä½ å¯èƒ½ä¼šä½¿ç”¨ double æˆ– float è¿™æ ·çš„æµ®ç‚¹æ•°ï¼Œä¹Ÿå¯èƒ½ä½¿ç”¨ NSString ã€‚æ— è®ºç”¨å“ªä¸ªï¼Œéƒ½éœ€è¦å†ç¼–å†™ç¹ççš„ç²¾åº¦æ§åˆ¶ã€å°æ•°ä½æ•°æ§åˆ¶ç­‰ä»£ç ã€‚å…¶å®ï¼Œè‹¹æœä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ ‡å‡†ç±» NSDecimalNumber æ¥å¤„ç†è¿™æ ·çš„éœ€æ±‚ã€‚"></a>åœ¨iOSå¼€å‘ä¸­ï¼Œç»å¸¸é‡åˆ°è´§å¸é‡‘é¢çš„è¡¨ç¤ºä¸è®¡ç®—ï¼Œä½ å¯èƒ½ä¼šä½¿ç”¨ double æˆ– float è¿™æ ·çš„æµ®ç‚¹æ•°ï¼Œä¹Ÿå¯èƒ½ä½¿ç”¨ NSString ã€‚æ— è®ºç”¨å“ªä¸ªï¼Œéƒ½éœ€è¦å†ç¼–å†™ç¹ççš„ç²¾åº¦æ§åˆ¶ã€å°æ•°ä½æ•°æ§åˆ¶ç­‰ä»£ç ã€‚å…¶å®ï¼Œè‹¹æœä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ ‡å‡†ç±» <strong>NSDecimalNumber</strong> æ¥å¤„ç†è¿™æ ·çš„éœ€æ±‚ã€‚</h2><h2 id="NSDecimalNumber-æ˜¯-NSNumber-çš„å­ç±»ï¼Œå®ƒæä¾›äº†å®Œå–„çš„åˆå§‹åŒ–æ–¹æ³•ã€‚å¯¹äºä»¤äººå¤´ç–¼çš„é‡‘é¢è®¡ç®—ï¼Œå®ƒè¿˜æä¾›äº†è´´å¿ƒçš„åŠ ã€å‡ã€ä¹˜ã€é™¤è¿ç®—æ–¹æ³•ã€‚åœ¨è¿›è¡Œè¿™äº›è¿ç®—çš„æ—¶å€™ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡-NSDecimalNumberHandler-å¯¹è±¡æ¥å¯¹è¿ç®—çš„å¤„ç†ç­–ç•¥è¿›è¡Œè®¾ç½®ï¼Œæ¯”å¦‚èˆå…¥æ¨¡å¼çš„é€‰æ‹©ï¼Œæ•°æ®æº¢å‡ºã€é™¤é›¶ç­‰å¼‚å¸¸æƒ…å†µçš„å¤„ç†ç­‰ã€‚"><a href="#NSDecimalNumber-æ˜¯-NSNumber-çš„å­ç±»ï¼Œå®ƒæä¾›äº†å®Œå–„çš„åˆå§‹åŒ–æ–¹æ³•ã€‚å¯¹äºä»¤äººå¤´ç–¼çš„é‡‘é¢è®¡ç®—ï¼Œå®ƒè¿˜æä¾›äº†è´´å¿ƒçš„åŠ ã€å‡ã€ä¹˜ã€é™¤è¿ç®—æ–¹æ³•ã€‚åœ¨è¿›è¡Œè¿™äº›è¿ç®—çš„æ—¶å€™ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡-NSDecimalNumberHandler-å¯¹è±¡æ¥å¯¹è¿ç®—çš„å¤„ç†ç­–ç•¥è¿›è¡Œè®¾ç½®ï¼Œæ¯”å¦‚èˆå…¥æ¨¡å¼çš„é€‰æ‹©ï¼Œæ•°æ®æº¢å‡ºã€é™¤é›¶ç­‰å¼‚å¸¸æƒ…å†µçš„å¤„ç†ç­‰ã€‚" class="headerlink" title="NSDecimalNumber æ˜¯ NSNumber çš„å­ç±»ï¼Œå®ƒæä¾›äº†å®Œå–„çš„åˆå§‹åŒ–æ–¹æ³•ã€‚å¯¹äºä»¤äººå¤´ç–¼çš„é‡‘é¢è®¡ç®—ï¼Œå®ƒè¿˜æä¾›äº†è´´å¿ƒçš„åŠ ã€å‡ã€ä¹˜ã€é™¤è¿ç®—æ–¹æ³•ã€‚åœ¨è¿›è¡Œè¿™äº›è¿ç®—çš„æ—¶å€™ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ NSDecimalNumberHandler å¯¹è±¡æ¥å¯¹è¿ç®—çš„å¤„ç†ç­–ç•¥è¿›è¡Œè®¾ç½®ï¼Œæ¯”å¦‚èˆå…¥æ¨¡å¼çš„é€‰æ‹©ï¼Œæ•°æ®æº¢å‡ºã€é™¤é›¶ç­‰å¼‚å¸¸æƒ…å†µçš„å¤„ç†ç­‰ã€‚"></a>NSDecimalNumber æ˜¯ NSNumber çš„å­ç±»ï¼Œå®ƒæä¾›äº†å®Œå–„çš„åˆå§‹åŒ–æ–¹æ³•ã€‚å¯¹äºä»¤äººå¤´ç–¼çš„é‡‘é¢è®¡ç®—ï¼Œå®ƒè¿˜æä¾›äº†è´´å¿ƒçš„åŠ ã€å‡ã€ä¹˜ã€é™¤è¿ç®—æ–¹æ³•ã€‚åœ¨è¿›è¡Œè¿™äº›è¿ç®—çš„æ—¶å€™ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ NSDecimalNumberHandler å¯¹è±¡æ¥å¯¹è¿ç®—çš„å¤„ç†ç­–ç•¥è¿›è¡Œè®¾ç½®ï¼Œæ¯”å¦‚èˆå…¥æ¨¡å¼çš„é€‰æ‹©ï¼Œæ•°æ®æº¢å‡ºã€é™¤é›¶ç­‰å¼‚å¸¸æƒ…å†µçš„å¤„ç†ç­‰ã€‚</h2><p>å‚è€ƒï¼š</p>
<p><a href="https://www.jianshu.com/p/ea4da259a062" target="_blank" rel="external">iOS æ•°å­—ç²¾å‡†è®¡ç®—ä¹‹NSDecimalNumber</a><br><a href="https://www.jianshu.com/p/25d24a184016" target="_blank" rel="external">NSDecimalNumberæ•°å­—ç²¾ç¡®</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-ç§¯ç´¯ " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/11/12/layoutSubviewsè°ƒç”¨/" itemprop="url">
                  layoutSubviewsè°ƒç”¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-11-12T17:25:19+08:00" content="Nov 12 2017">
              Nov 12 2017
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="åœ¨ä»¥ä¸‹æƒ…å†µéƒ½ä¼šè°ƒç”¨"><a href="#åœ¨ä»¥ä¸‹æƒ…å†µéƒ½ä¼šè°ƒç”¨" class="headerlink" title="åœ¨ä»¥ä¸‹æƒ…å†µéƒ½ä¼šè°ƒç”¨"></a>åœ¨ä»¥ä¸‹æƒ…å†µéƒ½ä¼šè°ƒç”¨</h1><h2 id="1-ç›´æ¥è°ƒç”¨-self-setNeedsLayout"><a href="#1-ç›´æ¥è°ƒç”¨-self-setNeedsLayout" class="headerlink" title="1. ç›´æ¥è°ƒç”¨[self setNeedsLayout]"></a>1. ç›´æ¥è°ƒç”¨[self setNeedsLayout]</h2><h2 id="2-addSubviewçš„æ—¶å€™"><a href="#2-addSubviewçš„æ—¶å€™" class="headerlink" title="2. addSubviewçš„æ—¶å€™"></a>2. addSubviewçš„æ—¶å€™</h2><h2 id="3-å½“viewçš„sizeå‘ç”Ÿæ”¹å˜çš„æ—¶å€™"><a href="#3-å½“viewçš„sizeå‘ç”Ÿæ”¹å˜çš„æ—¶å€™" class="headerlink" title="3. å½“viewçš„sizeå‘ç”Ÿæ”¹å˜çš„æ—¶å€™"></a>3. å½“viewçš„sizeå‘ç”Ÿæ”¹å˜çš„æ—¶å€™</h2><h2 id="4-æ»‘åŠ¨UIScrollViewçš„æ—¶å€™"><a href="#4-æ»‘åŠ¨UIScrollViewçš„æ—¶å€™" class="headerlink" title="4.æ»‘åŠ¨UIScrollViewçš„æ—¶å€™"></a>4.æ»‘åŠ¨UIScrollViewçš„æ—¶å€™</h2><h2 id="5-æ—‹è½¬Screenä¼šè§¦å‘çˆ¶UIViewä¸Šçš„layoutSubviewsäº‹ä»¶"><a href="#5-æ—‹è½¬Screenä¼šè§¦å‘çˆ¶UIViewä¸Šçš„layoutSubviewsäº‹ä»¶" class="headerlink" title="5.æ—‹è½¬Screenä¼šè§¦å‘çˆ¶UIViewä¸Šçš„layoutSubviewsäº‹ä»¶"></a>5.æ—‹è½¬Screenä¼šè§¦å‘çˆ¶UIViewä¸Šçš„layoutSubviewsäº‹ä»¶</h2><h1 id="æ³¨æ„-å½“viewçš„sizeçš„å€¼ä¸º0çš„æ—¶å€™ï¼ŒaddSubviewä¹Ÿä¸ä¼šè°ƒç”¨layoutSubviewsã€‚å½“è¦ç»™è¿™ä¸ªviewæ·»åŠ å­æ§ä»¶çš„æ—¶å€™ä¸ç®¡ä»–çš„sizeæœ‰æ²¡æœ‰å€¼éƒ½ä¼šè°ƒç”¨"><a href="#æ³¨æ„-å½“viewçš„sizeçš„å€¼ä¸º0çš„æ—¶å€™ï¼ŒaddSubviewä¹Ÿä¸ä¼šè°ƒç”¨layoutSubviewsã€‚å½“è¦ç»™è¿™ä¸ªviewæ·»åŠ å­æ§ä»¶çš„æ—¶å€™ä¸ç®¡ä»–çš„sizeæœ‰æ²¡æœ‰å€¼éƒ½ä¼šè°ƒç”¨" class="headerlink" title="(æ³¨æ„:å½“viewçš„sizeçš„å€¼ä¸º0çš„æ—¶å€™ï¼ŒaddSubviewä¹Ÿä¸ä¼šè°ƒç”¨layoutSubviewsã€‚å½“è¦ç»™è¿™ä¸ªviewæ·»åŠ å­æ§ä»¶çš„æ—¶å€™ä¸ç®¡ä»–çš„sizeæœ‰æ²¡æœ‰å€¼éƒ½ä¼šè°ƒç”¨)."></a>(æ³¨æ„:å½“viewçš„sizeçš„å€¼ä¸º0çš„æ—¶å€™ï¼ŒaddSubviewä¹Ÿä¸ä¼šè°ƒç”¨layoutSubviewsã€‚å½“è¦ç»™è¿™ä¸ªviewæ·»åŠ å­æ§ä»¶çš„æ—¶å€™ä¸ç®¡ä»–çš„sizeæœ‰æ²¡æœ‰å€¼éƒ½ä¼šè°ƒç”¨).</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/11/12/ä¸€é”®æå®šä»£ç å—/" itemprop="url">
                  ä¸€é”®å¯¼å…¥ä»£ç å—
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-11-12T16:58:13+08:00" content="Nov 12 2017">
              Nov 12 2017
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ä¸€é”®å¯¼å…¥ä»£ç å—"><a href="#ä¸€é”®å¯¼å…¥ä»£ç å—" class="headerlink" title="ä¸€é”®å¯¼å…¥ä»£ç å—"></a>ä¸€é”®å¯¼å…¥ä»£ç å—</h1><h2 id="ä¹‹å‰å¼„è¿‡ä»£ç å—ï¼Œä½†æ˜¯æ¯æ¬¡æ¢ç”µè„‘æˆ–è€…é‡è£…Xcodeå¿˜è®°å¤‡ä»½å°±æ¯å…·äº†ï¼Œæœ€è¿‘çœ‹ç½‘ä¸Šæœ‰ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•ã€‚"><a href="#ä¹‹å‰å¼„è¿‡ä»£ç å—ï¼Œä½†æ˜¯æ¯æ¬¡æ¢ç”µè„‘æˆ–è€…é‡è£…Xcodeå¿˜è®°å¤‡ä»½å°±æ¯å…·äº†ï¼Œæœ€è¿‘çœ‹ç½‘ä¸Šæœ‰ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•ã€‚" class="headerlink" title="ä¹‹å‰å¼„è¿‡ä»£ç å—ï¼Œä½†æ˜¯æ¯æ¬¡æ¢ç”µè„‘æˆ–è€…é‡è£…Xcodeå¿˜è®°å¤‡ä»½å°±æ¯å…·äº†ï¼Œæœ€è¿‘çœ‹ç½‘ä¸Šæœ‰ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•ã€‚"></a>ä¹‹å‰å¼„è¿‡ä»£ç å—ï¼Œä½†æ˜¯æ¯æ¬¡æ¢ç”µè„‘æˆ–è€…é‡è£…Xcodeå¿˜è®°å¤‡ä»½å°±æ¯å…·äº†ï¼Œæœ€è¿‘çœ‹ç½‘ä¸Šæœ‰ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•ã€‚</h2><p>ä½¿ç”¨:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd CodeSnippets</div><div class="line">./createSnippets.sh</div><div class="line">æˆåŠŸä¹‹åè¾“å‡º:</div><div class="line">done</div></pre></td></tr></table></figure></p>
<p><strong>å®Œå…¨é€€å‡º</strong>Xcodeåé‡æ–°æ–°æ‰“å¼€Xcode</p>
<p>åˆ é™¤ä»£ç å—:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./deleteSnippets.sh</div></pre></td></tr></table></figure></p>
<p>æ¸…é™¤Xcode ç¼“å­˜åƒåœ¾,é‡Šæ”¾ç£ç›˜å­˜å‚¨ç©ºé—´:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./clearTempData.sh</div></pre></td></tr></table></figure></p>
<p>æ‰“å¼€ä»£ç å—æ‰€åœ¨ä½ç½®:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./openCodeSnippets.sh</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">æˆ–è€…æ‰‹åŠ¨æ‰“å¼€: Finder-&gt;å‰å¾€-&gt;å‰å¾€æ–‡ä»¶å¤¹</div><div class="line">~/Library/Developer/Xcode/UserData/CodeSnippets/</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>è°ƒç”¨</th>
<th>å®ç°  </th>
</tr>
</thead>
<tbody>
<tr>
<td>D Button</td>
<td>ä¸€é”®åˆ›å»ºUIButton</td>
</tr>
<tr>
<td>D TableView</td>
<td>ä¸€é”®åˆ›å»ºUITabelView</td>
</tr>
<tr>
<td>D Label</td>
<td>ä¸€é”®åˆ›å»ºUILabel</td>
</tr>
<tr>
<td>D Label+Custom</td>
<td>ä¸€é”® Labelè‡ªé€‚åº”å®½é«˜</td>
</tr>
<tr>
<td>D PickerView</td>
<td>ä¸€é”®è‡ªå®šä¹‰UIPickerView</td>
</tr>
<tr>
<td>D Window</td>
<td>ä¸€é”®åˆ›å»ºUIWindow</td>
</tr>
<tr>
<td>D CornerRadius</td>
<td>ä¸€é”®è®¾ç½®åœ†è§’</td>
</tr>
<tr>
<td>D Dispatch_async</td>
<td>ä¸€é”® å­ -&gt; ä¸» çº¿ç¨‹(GCD)</td>
</tr>
<tr>
<td>D Timer</td>
<td>ä¸€é”® NSTimer å¸¦æš‚åœ/å¼€å§‹</td>
</tr>
<tr>
<td>D ImageView</td>
<td>ä¸€é”® UIImageView åœ†è§’+è¾¹æ¡†</td>
</tr>
<tr>
<td>D Switch</td>
<td>ä¸€é”®åˆ›å»º UISwitch é™„å¸¦ ç‚¹å‡»Action</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D TextField</td>
<td>ä¸€é”®åˆ›å»º UITextField<br>è‡ªå®šä¹‰ æ¸…é™¤æŒ‰é”® img <br>æ˜¯å¦å¯†æ–‡è¾“å…¥ placeholder</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D ScrollView</td>
<td>ä¸€é”®åˆ›å»º UIScrollView</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D PageControl</td>
<td>ä¸€é”®åˆ›å»º UIPageControl</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D Slider</td>
<td>ä¸€é”®åˆ›å»ºæ»‘å— é™„å¸¦ å€¼æ”¹å˜ æ‹–åŠ¨ç»“æŸ method</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D ///</td>
<td>ä¸€é”®æ³¨é‡Š</td>
<td>è§¦å‘ { }</td>
</tr>
<tr>
<td>D interface</td>
<td>ä¸€é”®æ·»åŠ  interface</td>
<td>#import ä¸‹é¢  è§¦å‘</td>
</tr>
<tr>
<td>D Assign</td>
<td>ä¸€é”® å£°æ˜ assign å±æ€§</td>
<td>interface å†…è§¦å‘</td>
</tr>
<tr>
<td>D Copy</td>
<td>ä¸€é”® å£°æ˜ copy å±æ€§</td>
<td>interface å†…è§¦å‘</td>
</tr>
<tr>
<td>D Weak</td>
<td>ä¸€é”® weak å±æ€§</td>
<td>interface å†…è§¦å‘</td>
</tr>
<tr>
<td>D Strong</td>
<td>ä¸€é”® å£°æ˜ Strong å±æ€§</td>
<td>interface å†…è§¦å‘</td>
</tr>
<tr>
<td>D Mark</td>
<td>ä¸€é”® mark</td>
<td>è§¦å‘ {  }</td>
</tr>
<tr>
<td>D docPath</td>
<td>ä¸€é”®ç”Ÿæˆ documentPath</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D NSNotificationCenter</td>
<td>ä¸€é”®å‘é€ æ¥æ”¶é€šçŸ¥</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D ActivityIndicatorView</td>
<td>ä¸€é”® æ­£åœ¨åŠ è½½..(èŠèŠ±)  è½¬èµ·æ¥ æš‚åœ</td>
<td>{ è§¦å‘ }  </td>
</tr>
<tr>
<td>D AlertController</td>
<td>ä¸€é”®åˆ›å»º è­¦å‘Šæ¡† é™„å¸¦ ç¡®å®š å–æ¶ˆ å›è°ƒ</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D AlertController<br>UserNamePwdTextField</td>
<td>ä¸€é”®åˆ›å»ºUIAlertController<br>é™„å¸¦Username/PwdTextField</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D PlayMusic</td>
<td>ä¸€é”®æ’­æ”¾éŸ³é¢‘æ–‡ä»¶</td>
<td>è§¦å‘ { }</td>
</tr>
<tr>
<td>D SegmentedControl<br>duogeyipaianjian</td>
<td>ä¸€é”®åˆ›å»ºä¸€æ’æŒ‰é”® å¤šæ ¼æŒ‰é”® é™„å¸¦ç‚¹å‡»action</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D hide_keyboard</td>
<td>ä¸€é”® ç‚¹å‡» view éšè—é”®ç›˜</td>
<td>è§¦å‘ {  }</td>
</tr>
<tr>
<td>D RequestDelegate</td>
<td>ä¸€é”®åˆ›å»ºnetworkRequestDelegate</td>
<td>è§¦å‘ {  }</td>
</tr>
<tr>
<td>D WebView</td>
<td>ä¸€é”®åˆ›å»º UIWebView é™„å¸¦Delegate</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D AFN_ç½‘ç»œçŠ¶æ€æ”¹å˜çš„æ—¶å€™è§¦å‘</td>
<td>ä¸€é”®ç›‘å¬ç½‘ç»œçŠ¶æ€:<br> èœ‚çªç½‘ç»œ, æ— ç½‘ç»œ,<br> wifiç½‘ç»œå˜åŒ–æ—¶è§¦å‘å›è°ƒ</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D AFN_Upload</td>
<td>åˆ©ç”¨AFNetworking3.1.0å°è£…çš„ä¸¤ç§ä¸Šä¼ æ–‡ä»¶æ–¹å¼</td>
<td>è§¦å‘ { }</td>
</tr>
<tr>
<td>D AFN_Get</td>
<td>ä¸€é”®ç”Ÿæˆ AFNetworking get ç½‘ç»œè¯·æ±‚</td>
<td>è§¦å‘ { }</td>
</tr>
<tr>
<td>D AFN_POST</td>
<td>ä¸€é”®ç”Ÿæˆ AFNetworking POST ç½‘ç»œè¯·æ±‚ å¸¦è¿›åº¦</td>
<td>è§¦å‘ { }</td>
</tr>
<tr>
<td>D AFN_Download</td>
<td>ä¸€é”®ç”Ÿæˆ AFNetworking Download<br>å¸¦ä¸‹è½½è¿›åº¦ è‡ªå®šä¹‰å­˜å‚¨filepath</td>
<td>è§¦å‘ { }</td>
</tr>
<tr>
<td>D POST_yuansheng</td>
<td>ä¸€é”®ç”Ÿæˆ ios åŸç”Ÿ POST ç½‘ç»œè¯·æ±‚,<br>post å‚æ•°(å¯é€‰) <br>è‡ªå®šä¹‰è¯·æ±‚å¤´ HTTPHeader (å¯é€‰)<br>æ”¯æŒ: application/x-www-form-urlencoded<br>multipart/form-data  ä¸¤ç§ç±»å‹ POST</td>
<td>{ è§¦å‘ }</td>
</tr>
<tr>
<td>D PCH</td>
<td>ä¸€é”®å®šä¹‰å¸¸ç”¨å®</td>
<td>#ifndef PrefixHeader_pch<br>#define PrefixHeader_pch<br>è§¦å‘ D PCH <br>#endif</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/23/UIAlterControllerä½¿ç”¨/" itemprop="url">
                  UIAlterControllerä½¿ç”¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-10-23T14:58:13+08:00" content="Oct 23 2017">
              Oct 23 2017
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å‰ä¸¤å¤©åŠ äº†ä¸€ä¸ªactionSheetï¼Œå¿˜è®°é’ˆå¯¹iPadé€‚é…ï¼Œå¯¼è‡´æ‚²å‰§äº†ğŸ˜­ï¼Œä»Šå¤©é¡ºä¾¿å°±åœ¨å¤ä¹ ä¸€ä¸‹ã€‚"><a href="#å‰ä¸¤å¤©åŠ äº†ä¸€ä¸ªactionSheetï¼Œå¿˜è®°é’ˆå¯¹iPadé€‚é…ï¼Œå¯¼è‡´æ‚²å‰§äº†ğŸ˜­ï¼Œä»Šå¤©é¡ºä¾¿å°±åœ¨å¤ä¹ ä¸€ä¸‹ã€‚" class="headerlink" title="å‰ä¸¤å¤©åŠ äº†ä¸€ä¸ªactionSheetï¼Œå¿˜è®°é’ˆå¯¹iPadé€‚é…ï¼Œå¯¼è‡´æ‚²å‰§äº†ğŸ˜­ï¼Œä»Šå¤©é¡ºä¾¿å°±åœ¨å¤ä¹ ä¸€ä¸‹ã€‚"></a>å‰ä¸¤å¤©åŠ äº†ä¸€ä¸ªactionSheetï¼Œå¿˜è®°é’ˆå¯¹iPadé€‚é…ï¼Œå¯¼è‡´æ‚²å‰§äº†ğŸ˜­ï¼Œä»Šå¤©é¡ºä¾¿å°±åœ¨å¤ä¹ ä¸€ä¸‹ã€‚</h2><p>è‡ªiOS 8å¼€å§‹ï¼ŒUIAlertControllerå°±å–ä»£äº†UIAlertViewå’ŒUIAlertSheetã€‚</p>
<h2 id="åˆ›å»ºä¸€ä¸ªdemoçœ‹çœ‹"><a href="#åˆ›å»ºä¸€ä¸ªdemoçœ‹çœ‹" class="headerlink" title="åˆ›å»ºä¸€ä¸ªdemoçœ‹çœ‹"></a>åˆ›å»ºä¸€ä¸ªdemoçœ‹çœ‹</h2><h3 id="1-ç®€å•çš„å¯¹è¯æ¡†"><a href="#1-ç®€å•çš„å¯¹è¯æ¡†" class="headerlink" title="1 ç®€å•çš„å¯¹è¯æ¡†"></a>1 ç®€å•çš„å¯¹è¯æ¡†</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">- (void)showAlertView</div><div class="line">&#123;</div><div class="line">    UIAlertController *alertController = [UIAlertController alertControllerWithTitle:@&quot;demo&quot; message:nil preferredStyle:UIAlertControllerStyleAlert];</div><div class="line"></div><div class="line">    UIAlertAction *okAction = [UIAlertAction actionWithTitle:@&quot;OK&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) &#123;</div><div class="line">        NSLog(@&quot;OK Action&quot;);</div><div class="line">    &#125;];</div><div class="line">    UIAlertAction *warningAction = [UIAlertAction actionWithTitle:@&quot;warning&quot; style:UIAlertActionStyleDestructive handler:^(UIAlertAction * _Nonnull action) &#123;</div><div class="line">        NSLog(@&quot;warning Action&quot;);</div><div class="line">    &#125;];</div><div class="line">    UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:@&quot;Cancel&quot; style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) &#123;</div><div class="line">        NSLog(@&quot;Cancel Action&quot;);</div><div class="line">    &#125;];</div><div class="line"></div><div class="line">    [alertController addAction:okAction];</div><div class="line">    [alertController addAction:warningAction];</div><div class="line">    [alertController addAction:cancelAction];</div><div class="line">    [self presentViewController:alertController animated:YES completion:nil];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="http://oc1jw3mv7.bkt.clouddn.com/alert.jpg" alt="alert.png"></p>
<h3 id="2-ActionSheet"><a href="#2-ActionSheet" class="headerlink" title="2 ActionSheet"></a>2 ActionSheet</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">- (void)showAlertView</div><div class="line">&#123;</div><div class="line">    UIAlertController *alertController = [UIAlertController alertControllerWithTitle:@&quot;demo&quot; message:nil preferredStyle:UIAlertControllerStyleActionSheet];</div><div class="line"></div><div class="line">    UIAlertAction *okAction = [UIAlertAction actionWithTitle:@&quot;OK&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) &#123;</div><div class="line">        NSLog(@&quot;OK Action&quot;);</div><div class="line">    &#125;];</div><div class="line">    UIAlertAction *warningAction = [UIAlertAction actionWithTitle:@&quot;warning&quot; style:UIAlertActionStyleDestructive handler:^(UIAlertAction * _Nonnull action) &#123;</div><div class="line">        NSLog(@&quot;warning Action&quot;);</div><div class="line">    &#125;];</div><div class="line">    UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:@&quot;Cancel&quot; style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) &#123;</div><div class="line">        NSLog(@&quot;Cancel Action&quot;);</div><div class="line">    &#125;];</div><div class="line"></div><div class="line">    [alertController addAction:okAction];</div><div class="line">    [alertController addAction:warningAction];</div><div class="line">    [alertController addAction:cancelAction];</div><div class="line">    [self presentViewController:alertController animated:YES completion:nil];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="http://oc1jw3mv7.bkt.clouddn.com/actionSheet.jpg" alt="actionSheet.png"></p>
<h3 id="è¿™é‡Œçš„preferredStyle-å‚æ•°æ˜¯UIAlertControllerStyleActionSheetï¼Œå¦‚æœAction-Sheetä¸­æœ‰å–æ¶ˆæŒ‰é’®ï¼Œå–æ¶ˆæŒ‰é’®æ¯æ¬¡éƒ½ä¼šåœ¨åº•éƒ¨æ˜¾ç¤ºï¼Œå…¶ä»–æŒ‰é’®ä¼šæŒ‰ç…§æ·»åŠ çš„é¡ºåºæ˜¾ç¤ºã€‚åœ¨Action-Sheetå†…ä¸èƒ½æ·»åŠ æ–‡æœ¬æ¡†ã€‚å¦‚æœä½ æ·»åŠ äº†æ–‡æœ¬æ¡†ï¼Œåœ¨è¿è¡Œæ—¶ä¼šæŠ›å‡ºä¸‹é¢çš„å¼‚å¸¸æé†’ï¼š"><a href="#è¿™é‡Œçš„preferredStyle-å‚æ•°æ˜¯UIAlertControllerStyleActionSheetï¼Œå¦‚æœAction-Sheetä¸­æœ‰å–æ¶ˆæŒ‰é’®ï¼Œå–æ¶ˆæŒ‰é’®æ¯æ¬¡éƒ½ä¼šåœ¨åº•éƒ¨æ˜¾ç¤ºï¼Œå…¶ä»–æŒ‰é’®ä¼šæŒ‰ç…§æ·»åŠ çš„é¡ºåºæ˜¾ç¤ºã€‚åœ¨Action-Sheetå†…ä¸èƒ½æ·»åŠ æ–‡æœ¬æ¡†ã€‚å¦‚æœä½ æ·»åŠ äº†æ–‡æœ¬æ¡†ï¼Œåœ¨è¿è¡Œæ—¶ä¼šæŠ›å‡ºä¸‹é¢çš„å¼‚å¸¸æé†’ï¼š" class="headerlink" title="è¿™é‡Œçš„preferredStyle:å‚æ•°æ˜¯UIAlertControllerStyleActionSheetï¼Œå¦‚æœAction Sheetä¸­æœ‰å–æ¶ˆæŒ‰é’®ï¼Œå–æ¶ˆæŒ‰é’®æ¯æ¬¡éƒ½ä¼šåœ¨åº•éƒ¨æ˜¾ç¤ºï¼Œå…¶ä»–æŒ‰é’®ä¼šæŒ‰ç…§æ·»åŠ çš„é¡ºåºæ˜¾ç¤ºã€‚åœ¨Action Sheetå†…ä¸èƒ½æ·»åŠ æ–‡æœ¬æ¡†ã€‚å¦‚æœä½ æ·»åŠ äº†æ–‡æœ¬æ¡†ï¼Œåœ¨è¿è¡Œæ—¶ä¼šæŠ›å‡ºä¸‹é¢çš„å¼‚å¸¸æé†’ï¼š"></a>è¿™é‡Œçš„preferredStyle:å‚æ•°æ˜¯UIAlertControllerStyleActionSheetï¼Œå¦‚æœAction Sheetä¸­æœ‰å–æ¶ˆæŒ‰é’®ï¼Œå–æ¶ˆæŒ‰é’®æ¯æ¬¡éƒ½ä¼šåœ¨åº•éƒ¨æ˜¾ç¤ºï¼Œå…¶ä»–æŒ‰é’®ä¼šæŒ‰ç…§æ·»åŠ çš„é¡ºåºæ˜¾ç¤ºã€‚åœ¨Action Sheetå†…ä¸èƒ½æ·»åŠ æ–‡æœ¬æ¡†ã€‚å¦‚æœä½ æ·»åŠ äº†æ–‡æœ¬æ¡†ï¼Œåœ¨è¿è¡Œæ—¶ä¼šæŠ›å‡ºä¸‹é¢çš„å¼‚å¸¸æé†’ï¼š</h3><blockquote>
<p><em>*</em> Terminating app due to uncaught exception<br>â€˜NSInternalInconsistencyExceptionâ€™, reason: â€˜Text fields can only be added to an alert controller of style UIAlertControllerStyleAlertâ€™</p>
</blockquote>
<p>##å¦‚ä¸Šé¢è¯´åˆ°çš„ï¼Œåœ¨iPadä¸­ActionSheetä»¥å¼¹å‡ºæ¡†çš„å½¢å¼å‘ˆç°ï¼Œå¦‚æœè¿˜æ˜¯æŒ‰ç…§ä¸Šé¢å†™å°±ä¼šå´©æºƒã€‚iPadå¼¹å‡ºå¼¹å‡ºæ¡†æ€»æ˜¯éœ€è¦ä¸€ä¸ªé”šç‚¹ï¼Œé”šç‚¹å¯ä»¥æ˜¯æºè§†å›¾ï¼Œä¹Ÿå¯ä»¥æ˜¯æŒ‰é’®ã€‚éœ€è¦æ·»åŠ ä¸€ä¸‹ä»£ç :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">alertController.popoverPresentationController.sourceView = self.view;</div><div class="line">alertController.popoverPresentationController.sourceRect = self.view.bounds;</div></pre></td></tr></table></figure></p>
<h2 id="3-é€€å‡ºè­¦å‘Šæ§åˆ¶å™¨"><a href="#3-é€€å‡ºè­¦å‘Šæ§åˆ¶å™¨" class="headerlink" title="3 é€€å‡ºè­¦å‘Šæ§åˆ¶å™¨"></a>3 é€€å‡ºè­¦å‘Šæ§åˆ¶å™¨</h2><h3 id="è­¦æŠ¥æ§åˆ¶å™¨ä¼šåœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åè‡ªåŠ¨æ¶ˆå¤±ï¼Œä½†åœ¨appè¿›å…¥åå°æ—¶ï¼Œè­¦å‘Šæ¡†å’Œé€‰æ‹©è¡¨å¹¶ä¸ä¼šè‡ªåŠ¨é€€å‡ºã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä»£ç å®ç°é€€å‡ºè­¦æŠ¥æ§åˆ¶å™¨ã€‚"><a href="#è­¦æŠ¥æ§åˆ¶å™¨ä¼šåœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åè‡ªåŠ¨æ¶ˆå¤±ï¼Œä½†åœ¨appè¿›å…¥åå°æ—¶ï¼Œè­¦å‘Šæ¡†å’Œé€‰æ‹©è¡¨å¹¶ä¸ä¼šè‡ªåŠ¨é€€å‡ºã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä»£ç å®ç°é€€å‡ºè­¦æŠ¥æ§åˆ¶å™¨ã€‚" class="headerlink" title="è­¦æŠ¥æ§åˆ¶å™¨ä¼šåœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åè‡ªåŠ¨æ¶ˆå¤±ï¼Œä½†åœ¨appè¿›å…¥åå°æ—¶ï¼Œè­¦å‘Šæ¡†å’Œé€‰æ‹©è¡¨å¹¶ä¸ä¼šè‡ªåŠ¨é€€å‡ºã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä»£ç å®ç°é€€å‡ºè­¦æŠ¥æ§åˆ¶å™¨ã€‚"></a>è­¦æŠ¥æ§åˆ¶å™¨ä¼šåœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åè‡ªåŠ¨æ¶ˆå¤±ï¼Œä½†åœ¨appè¿›å…¥åå°æ—¶ï¼Œè­¦å‘Šæ¡†å’Œé€‰æ‹©è¡¨å¹¶ä¸ä¼šè‡ªåŠ¨é€€å‡ºã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä»£ç å®ç°é€€å‡ºè­¦æŠ¥æ§åˆ¶å™¨ã€‚</h3><h3 id="åœ¨é€šçŸ¥ä¸­å¿ƒè¿›è¡Œæ³¨å†Œï¼Œå½“æ¥æ”¶åˆ°appè¿›å…¥åå°çš„é€šçŸ¥æ—¶é€€å‡ºè­¦æŠ¥æ§åˆ¶å™¨ã€‚æ›´æ–°åçš„viewDidLoadå¦‚ä¸‹"><a href="#åœ¨é€šçŸ¥ä¸­å¿ƒè¿›è¡Œæ³¨å†Œï¼Œå½“æ¥æ”¶åˆ°appè¿›å…¥åå°çš„é€šçŸ¥æ—¶é€€å‡ºè­¦æŠ¥æ§åˆ¶å™¨ã€‚æ›´æ–°åçš„viewDidLoadå¦‚ä¸‹" class="headerlink" title="åœ¨é€šçŸ¥ä¸­å¿ƒè¿›è¡Œæ³¨å†Œï¼Œå½“æ¥æ”¶åˆ°appè¿›å…¥åå°çš„é€šçŸ¥æ—¶é€€å‡ºè­¦æŠ¥æ§åˆ¶å™¨ã€‚æ›´æ–°åçš„viewDidLoadå¦‚ä¸‹"></a>åœ¨é€šçŸ¥ä¸­å¿ƒè¿›è¡Œæ³¨å†Œï¼Œå½“æ¥æ”¶åˆ°appè¿›å…¥åå°çš„é€šçŸ¥æ—¶é€€å‡ºè­¦æŠ¥æ§åˆ¶å™¨ã€‚æ›´æ–°åçš„viewDidLoadå¦‚ä¸‹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- (void)viewDidLoad</div><div class="line">&#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    // app è¿›å…¥åå°åéšè—è­¦æŠ¥æ§åˆ¶å™¨</div><div class="line">    [[NSNotificationCenter defaultCenter] addObserverForName:UIApplicationDidEnterBackgroundNotification object:nil queue:nil usingBlock:^(NSNotification * _Nonnull note) &#123;</div><div class="line">        [self.presentedViewController dismissViewControllerAnimated:YES completion:nil];</div><div class="line">    &#125;];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)dealloc</div><div class="line">&#123;</div><div class="line">    // ç§»é™¤è§‚å¯Ÿè€…</div><div class="line">    [[NSNotificationCenter defaultCenter] removeObserver:self name:UIApplicationDidEnterBackgroundNotification object:nil];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="æœ€åä¸€å®šè®°å¾—ç§»é™¤è§‚å¯Ÿè€…ï¼Œå¦åˆ™ä¼šå¼•èµ·å´©æºƒã€‚"><a href="#æœ€åä¸€å®šè®°å¾—ç§»é™¤è§‚å¯Ÿè€…ï¼Œå¦åˆ™ä¼šå¼•èµ·å´©æºƒã€‚" class="headerlink" title="æœ€åä¸€å®šè®°å¾—ç§»é™¤è§‚å¯Ÿè€…ï¼Œå¦åˆ™ä¼šå¼•èµ·å´©æºƒã€‚"></a>æœ€åä¸€å®šè®°å¾—ç§»é™¤è§‚å¯Ÿè€…ï¼Œå¦åˆ™ä¼šå¼•èµ·å´©æºƒã€‚</h2><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li>AlertView<ul>
<li>ä¸€èˆ¬æ˜¾ç¤ºåœ¨å½“å‰è§†å›¾æ§åˆ¶å™¨çš„ä¸­å¿ƒï¼Œç‚¹å‡»è­¦å‘Šæ¡†ä»¥å¤–åŒºåŸŸä¸èƒ½éšè—è­¦å‘Šæ§åˆ¶å™¨ã€‚</li>
<li>å¯ä»¥æ·»åŠ ä»»æ„æ•°é‡æ–‡æœ¬æ¡†ã€‚</li>
<li>æœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªæŒ‰é’®æ—¶ï¼Œæ¨ªå‘æ’å¸ƒï¼Œå¦‚æœæœ‰CancelæŒ‰é’®ï¼Œåˆ™CancelæŒ‰é’®æ˜¾ç¤ºåœ¨å·¦ä¾§ï¼›æœ‰ä¸¤ä¸ªä»¥ä¸ŠæŒ‰é’®æ—¶ï¼Œç«–åˆ—æ’å¸ƒï¼Œå¦‚æœæœ‰CancelæŒ‰é’®ï¼Œåˆ™CancelæŒ‰é’®æ˜¾ç¤ºåœ¨æœ€åº•éƒ¨ã€‚å…¶ä»–æŒ‰é’®æŒ‰ç…§æ·»åŠ é¡ºåºæ’å¸ƒã€‚</li>
</ul>
</li>
<li>ActionSheet<ul>
<li>åœ¨iPhoneä¸­è‡ªä¸‹è€Œä¸Šæ»‘å‡ºæ˜¾ç¤ºåœ¨å½“å‰æ§åˆ¶å™¨çš„åº•éƒ¨ï¼Œç‚¹å‡»action sheetä»¥å¤–åŒºåŸŸå¯ä»¥éšè—UIAlertControllerã€‚</li>
<li>åœ¨iPadä¸­ä»¥popoveræ–¹å¼ã€ä»¥æºè§†å›¾ä¸ºé”šç‚¹æ˜¾ç¤ºï¼Œç‚¹å‡»é€‰æ‹©è¡¨ä»¥å¤–çš„åŒºåŸŸå¯ä»¥éšè—è­¦å‘Šæ§åˆ¶å™¨ã€‚</li>
<li>ä¸èƒ½æ·»åŠ æ–‡æœ¬æ¡†ã€‚</li>
<li>æŒ‰é’®ç«–åˆ—æ’å¸ƒï¼Œåœ¨iPhoneä¸­ï¼ŒCancelæŒ‰é’®é»˜è®¤åœ¨åº•éƒ¨æ˜¾ç¤ºï¼›åœ¨iPadä¸­ï¼ŒCancelæŒ‰é’®é»˜è®¤ä¸æ˜¾ç¤º</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/03/Buttonå›¾æ–‡/" itemprop="url">
                  buttonå›¾æ–‡
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-10-03T16:58:13+08:00" content="Oct 3 2017">
              Oct 3 2017
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Buttonæ˜¯æˆ‘ä»¬å¹³æ—¶ç”¨çš„æœ€å¤šçš„æ§ä»¶ä¹‹ä¸€ï¼Œç»å¸¸ä¼šé‡åˆ°å›¾ç‰‡æ–‡å­—ä½ç½®çš„é—®é¢˜ï¼Œç”¨ä¸‹é¢çš„æ–¹æ³•ä¸€è¡Œä»£ç å°±å¯ä»¥æå®š"><a href="#Buttonæ˜¯æˆ‘ä»¬å¹³æ—¶ç”¨çš„æœ€å¤šçš„æ§ä»¶ä¹‹ä¸€ï¼Œç»å¸¸ä¼šé‡åˆ°å›¾ç‰‡æ–‡å­—ä½ç½®çš„é—®é¢˜ï¼Œç”¨ä¸‹é¢çš„æ–¹æ³•ä¸€è¡Œä»£ç å°±å¯ä»¥æå®š" class="headerlink" title="Buttonæ˜¯æˆ‘ä»¬å¹³æ—¶ç”¨çš„æœ€å¤šçš„æ§ä»¶ä¹‹ä¸€ï¼Œç»å¸¸ä¼šé‡åˆ°å›¾ç‰‡æ–‡å­—ä½ç½®çš„é—®é¢˜ï¼Œç”¨ä¸‹é¢çš„æ–¹æ³•ä¸€è¡Œä»£ç å°±å¯ä»¥æå®š"></a>Buttonæ˜¯æˆ‘ä»¬å¹³æ—¶ç”¨çš„æœ€å¤šçš„æ§ä»¶ä¹‹ä¸€ï¼Œç»å¸¸ä¼šé‡åˆ°å›¾ç‰‡æ–‡å­—ä½ç½®çš„é—®é¢˜ï¼Œç”¨ä¸‹é¢çš„æ–¹æ³•ä¸€è¡Œä»£ç å°±å¯ä»¥æå®š</h2><h2 id="åˆ›å»ºUIButtonåˆ†ç±»"><a href="#åˆ›å»ºUIButtonåˆ†ç±»" class="headerlink" title="åˆ›å»ºUIButtonåˆ†ç±»"></a>åˆ›å»ºUIButtonåˆ†ç±»</h2><h3 id="h"><a href="#h" class="headerlink" title=".h"></a>.h</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">#import &lt;UIKit/UIKit.h&gt;</div><div class="line"></div><div class="line">typedef NS_ENUM(NSUInteger, DCDButtonEdgeInsetsStyle) &#123;</div><div class="line">    DCDButtonEdgeInsetsStyleTop, // imageåœ¨ä¸Šï¼Œlabelåœ¨ä¸‹</div><div class="line">    DCDButtonEdgeInsetsStyleLeft, // imageåœ¨å·¦ï¼Œlabelåœ¨å³</div><div class="line">    DCDButtonEdgeInsetsStyleBottom, // imageåœ¨ä¸‹ï¼Œlabelåœ¨ä¸Š</div><div class="line">    DCDButtonEdgeInsetsStyleRight // imageåœ¨å³ï¼Œlabelåœ¨å·¦</div><div class="line">&#125;;</div><div class="line"></div><div class="line">@interface UIButton (TitleImageSpacing)</div><div class="line"></div><div class="line">/**</div><div class="line"> *  è®¾ç½®buttonçš„titleLabelå’ŒimageViewçš„å¸ƒå±€æ ·å¼ï¼ŒåŠé—´è·</div><div class="line"> *</div><div class="line"> *  @param style titleLabelå’ŒimageViewçš„å¸ƒå±€æ ·å¼</div><div class="line"> *  @param space titleLabelå’ŒimageViewçš„é—´è·</div><div class="line"> */</div><div class="line">- (void)layoutButtonWithEdgeInsetsStyle:(DCDButtonEdgeInsetsStyle)style</div><div class="line">                        imageTitleSpace:(CGFloat)space;</div><div class="line">@end</div></pre></td></tr></table></figure>
<h3 id="m"><a href="#m" class="headerlink" title=".m"></a>.m</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line">#import &quot;UIButton+TitleImageSpacing.h&quot;</div><div class="line"></div><div class="line">@implementation UIButton (TitleImageSpacing)</div><div class="line"></div><div class="line">- (void)layoutButtonWithEdgeInsetsStyle:(DCDButtonEdgeInsetsStyle)style</div><div class="line">                        imageTitleSpace:(CGFloat)space</div><div class="line">&#123;</div><div class="line">    //    self.backgroundColor = [UIColor cyanColor];</div><div class="line"></div><div class="line">    /**</div><div class="line">     *  å‰ç½®çŸ¥è¯†ç‚¹ï¼štitleEdgeInsetsæ˜¯titleç›¸å¯¹äºå…¶ä¸Šä¸‹å·¦å³çš„insetï¼Œè·ŸtableViewçš„contentInsetæ˜¯ç±»ä¼¼çš„ï¼Œ</div><div class="line">     *  å¦‚æœåªæœ‰titleï¼Œé‚£å®ƒä¸Šä¸‹å·¦å³éƒ½æ˜¯ç›¸å¯¹äºbuttonçš„ï¼Œimageä¹Ÿæ˜¯ä¸€æ ·ï¼›</div><div class="line">     *  å¦‚æœåŒæ—¶æœ‰imageå’Œlabelï¼Œé‚£è¿™æ—¶å€™imageçš„ä¸Šå·¦ä¸‹æ˜¯ç›¸å¯¹äºbuttonï¼Œå³è¾¹æ˜¯ç›¸å¯¹äºlabelçš„ï¼›titleçš„ä¸Šå³ä¸‹æ˜¯ç›¸å¯¹äºbuttonï¼Œå·¦è¾¹æ˜¯ç›¸å¯¹äºimageçš„ã€‚</div><div class="line">     */</div><div class="line"></div><div class="line">    // 1. å¾—åˆ°imageViewå’ŒtitleLabelçš„å®½ã€é«˜</div><div class="line">    CGFloat imageWith = self.imageView.frame.size.width;</div><div class="line">    CGFloat imageHeight = self.imageView.frame.size.height;</div><div class="line"></div><div class="line">    CGFloat labelWidth = 0.0;</div><div class="line">    CGFloat labelHeight = 0.0;</div><div class="line">    if ([UIDevice currentDevice].systemVersion.floatValue &gt;= 8.0) &#123;</div><div class="line">        // ç”±äºiOS8ä¸­titleLabelçš„sizeä¸º0ï¼Œç”¨ä¸‹é¢çš„è¿™ç§è®¾ç½®</div><div class="line">        labelWidth = self.titleLabel.intrinsicContentSize.width;</div><div class="line">        labelHeight = self.titleLabel.intrinsicContentSize.height;</div><div class="line">    &#125; else &#123;</div><div class="line">        labelWidth = self.titleLabel.frame.size.width;</div><div class="line">        labelHeight = self.titleLabel.frame.size.height;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // 2. å£°æ˜å…¨å±€çš„imageEdgeInsetså’ŒlabelEdgeInsets</div><div class="line">    UIEdgeInsets imageEdgeInsets = UIEdgeInsetsZero;</div><div class="line">    UIEdgeInsets labelEdgeInsets = UIEdgeInsetsZero;</div><div class="line"></div><div class="line">    // 3. æ ¹æ®styleå’Œspaceå¾—åˆ°imageEdgeInsetså’ŒlabelEdgeInsetsçš„å€¼</div><div class="line">    switch (style) &#123;</div><div class="line">        case DCDButtonEdgeInsetsStyleTop:</div><div class="line">        &#123;</div><div class="line">            imageEdgeInsets = UIEdgeInsetsMake(-labelHeight-space/2.0, 0, 0, -labelWidth);</div><div class="line">            labelEdgeInsets = UIEdgeInsetsMake(0, -imageWith, -imageHeight-space/2.0, 0);</div><div class="line">        &#125;</div><div class="line">            break;</div><div class="line">        case DCDButtonEdgeInsetsStyleLeft:</div><div class="line">        &#123;</div><div class="line">            imageEdgeInsets = UIEdgeInsetsMake(0, -space/2.0, 0, space/2.0);</div><div class="line">            labelEdgeInsets = UIEdgeInsetsMake(0, space/2.0, 0, -space/2.0);</div><div class="line">        &#125;</div><div class="line">            break;</div><div class="line">        case DCDButtonEdgeInsetsStyleBottom:</div><div class="line">        &#123;</div><div class="line">            imageEdgeInsets = UIEdgeInsetsMake(0, 0, -labelHeight-space/2.0, -labelWidth);</div><div class="line">            labelEdgeInsets = UIEdgeInsetsMake(-imageHeight-space/2.0, -imageWith, 0, 0);</div><div class="line">        &#125;</div><div class="line">            break;</div><div class="line">        case DCDButtonEdgeInsetsStyleRight:</div><div class="line">        &#123;</div><div class="line">            imageEdgeInsets = UIEdgeInsetsMake(0, labelWidth+space/2.0, 0, -labelWidth-space/2.0);</div><div class="line">            labelEdgeInsets = UIEdgeInsetsMake(0, -imageWith-space/2.0, 0, imageWith+space/2.0);</div><div class="line">        &#125;</div><div class="line">            break;</div><div class="line">        default:</div><div class="line">            break;</div><div class="line">    &#125;</div><div class="line">    // 4. èµ‹å€¼</div><div class="line">    self.titleEdgeInsets = labelEdgeInsets;</div><div class="line">    self.imageEdgeInsets = imageEdgeInsets;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">for (int i = 1; i &lt; 5; i ++) &#123;</div><div class="line">        UIButton *goBtn = [[UIButton alloc] initWithFrame:CGRectMake(100, 150 * i , 200, 100)];</div><div class="line">        goBtn.backgroundColor = [UIColor redColor];</div><div class="line">        [goBtn setTitle:@&quot;ğŸ‘†å¾®ä¿¡å¥½å‹ğŸ‘†&quot; forState:UIControlStateNormal];</div><div class="line">        [goBtn setImage:[UIImage imageNamed:@&quot;img_wechat&quot;] forState:UIControlStateNormal];</div><div class="line">        if (i == 1) &#123;</div><div class="line">            [goBtn layoutButtonWithEdgeInsetsStyle:DCDButtonEdgeInsetsStyleTop imageTitleSpace:10];</div><div class="line">        &#125;else if (i == 2)&#123;</div><div class="line">            [goBtn layoutButtonWithEdgeInsetsStyle:DCDButtonEdgeInsetsStyleLeft imageTitleSpace:10];</div><div class="line">        &#125;else if (i == 3)&#123;</div><div class="line">            [goBtn layoutButtonWithEdgeInsetsStyle:DCDButtonEdgeInsetsStyleBottom imageTitleSpace:10];</div><div class="line">        &#125;else if (i == 4)&#123;</div><div class="line">            [goBtn layoutButtonWithEdgeInsetsStyle:DCDButtonEdgeInsetsStyleRight imageTitleSpace:10];</div><div class="line">        &#125;</div><div class="line">        [self.view addSubview:goBtn];</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h3 id="æ•ˆæœå›¾"><a href="#æ•ˆæœå›¾" class="headerlink" title="æ•ˆæœå›¾"></a>æ•ˆæœå›¾</h3><p><img src="http://oc1jw3mv7.bkt.clouddn.com/button.jpg" alt="button"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/09/03/æ€§èƒ½ä¼˜åŒ–å°ç»“/" itemprop="url">
                  æ€§èƒ½ä¼˜åŒ–å°ç»“
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-09-03T16:58:13+08:00" content="Sep 3 2017">
              Sep 3 2017
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æ€§èƒ½ä¼˜åŒ–å°ç»“"><a href="#æ€§èƒ½ä¼˜åŒ–å°ç»“" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–å°ç»“"></a>æ€§èƒ½ä¼˜åŒ–å°ç»“</h2><h3 id="ç•Œé¢å¡é¡¿äº§ç”Ÿçš„åŸå› "><a href="#ç•Œé¢å¡é¡¿äº§ç”Ÿçš„åŸå› " class="headerlink" title="ç•Œé¢å¡é¡¿äº§ç”Ÿçš„åŸå› "></a>ç•Œé¢å¡é¡¿äº§ç”Ÿçš„åŸå› </h3><p><img src="http://cc.cocimg.com/api/uploads//20180309/1520562238557613.png" alt=""></p>
<p>åœ¨VSyncä¿¡å·åˆ°æ¥åï¼Œç³»ç»Ÿå›¾å½¢æœåŠ¡ä¼šé€šè¿‡CADisplayLinkç­‰æœºåˆ¶é€šçŸ¥Appï¼ŒAppä¸»çº¿ç¨‹å¼€å§‹åœ¨CPUä¸­è®¡ç®—æ˜¾ç¤ºå†…å®¹ï¼Œæ¯”å¦‚è§†å›¾çš„åˆ›å»ºã€å¸ƒå±€è®¡ç®—ã€å›¾ç‰‡è§£ç ã€æ–‡æœ¬ç»˜åˆ¶ç­‰ã€‚éšåCPUä¼šå°†è®¡ç®—å¥½çš„å†…å®¹æäº¤åˆ°GPUå»ï¼Œç”±GPUè¿›è¡Œå˜æ¢ã€åˆæˆã€æ¸²æŸ“ã€‚éšåGPUä¼šæŠŠæ¸²æŸ“ç»“æœæäº¤åˆ°å¸§ç¼“å†²åŒºå»ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡VSyncä¿¡å·åˆ°æ¥æ—¶æ˜¾ç¤ºåˆ°å±å¹•ä¸Šã€‚ç”±äºå‚ç›´åŒæ­¥çš„æœºåˆ¶ï¼Œå¦‚æœåœ¨ä¸€ä¸ªVSyncæ—¶é—´å†…ï¼ŒCPUæˆ–è€…GPUæ²¡æœ‰å®Œæˆå†…å®¹æäº¤ï¼Œåˆ™é‚£ä¸€å¸§å°±ä¼šè¢«ä¸¢å¼ƒï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡æœºä¼šå†æ˜¾ç¤ºï¼Œè€Œè¿™æ—¶æ˜¾ç¤ºå±ä¼šä¿ç•™ä¹‹å‰çš„å†…å®¹ä¸å˜ã€‚è¿™å°±æ˜¯ç•Œé¢å¡é¡¿çš„åŸå› ã€‚</p>
<p>åœ¨å¼€å‘ä¸­ï¼ŒCPUå’ŒGPUä¸­ä»»ä½•ä¸€ä¸ªå‹åŠ›è¿‡å¤§ï¼Œéƒ½ä¼šå¯¼è‡´æ‰å¸§ç°è±¡(FPS&lt; 60)</p>
<h3 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h3><p>åŠ è½½èµ„æºï¼Œå¯¹è±¡åˆ›å»ºï¼Œå¯¹è±¡è°ƒæ•´ï¼Œå¯¹è±¡é”€æ¯ï¼Œå¸ƒå±€è®¡ç®—ï¼ŒAutolayoutï¼Œæ–‡æœ¬è®¡ç®—ï¼Œæ–‡æœ¬æ¸²æŸ“ï¼Œå›¾ç‰‡çš„è§£ç ï¼Œ å›¾åƒçš„ç»˜åˆ¶ï¼ˆCore Graphicsï¼‰éƒ½æ˜¯åœ¨CPUä¸Šé¢è¿›è¡Œçš„ã€‚</p>
<h3 id="CPUèµ„æºæ¶ˆè€—åŸå› ä»¥åŠè§£å†³åŠæ³•"><a href="#CPUèµ„æºæ¶ˆè€—åŸå› ä»¥åŠè§£å†³åŠæ³•" class="headerlink" title="CPUèµ„æºæ¶ˆè€—åŸå› ä»¥åŠè§£å†³åŠæ³•"></a>CPUèµ„æºæ¶ˆè€—åŸå› ä»¥åŠè§£å†³åŠæ³•</h3><p>1ã€å¯¹è±¡çš„åˆ›å»ºï¼š</p>
<p>å¯¹è±¡çš„åˆ›å»ºä¼šåˆ†é…å†…å­˜ã€è®¾ç½®å±æ€§ç­‰ï¼Œä¼šæ¶ˆè€—CPUèµ„æºã€‚æ‰€ä»¥å°½é‡ä½¿ç”¨è½»é‡å¯¹è±¡ä»£æ›¿ï¼Œæ¯”å¦‚èƒ½ç”¨CALayerçš„æ—¶å€™å°½é‡ä¸ç”¨UIViewï¼Œæ•æ„Ÿä½ç½®èƒ½ä¸ç”¨IBå°½é‡ä½¿ç”¨çº¯ä»£ç æ‰‹å†™ã€‚</p>
<p>æ¨è¿ŸåŒä¸€æ—¶é—´åˆ›å»ºå¯¹è±¡ï¼Œæ¨èä½¿ç”¨æ‡’åŠ è½½åœ¨éœ€è¦ä½¿ç”¨æ—¶å€™åˆ›å»ºå¯¹è±¡ã€‚</p>
<p>2ã€å¯¹è±¡è°ƒæ•´</p>
<p>å¯¹ UIView çš„è¿™äº›å±æ€§è¿›è¡Œè°ƒæ•´æ—¶ï¼Œæ¶ˆè€—çš„èµ„æºè¦è¿œå¤§äºä¸€èˆ¬çš„å±æ€§ã€‚å¯¹æ­¤ä½ åœ¨åº”ç”¨ä¸­ï¼Œåº”è¯¥å°½é‡å‡å°‘ä¸å¿…è¦çš„å±æ€§ä¿®æ”¹ã€‚</p>
<p>å½“è§†å›¾å±‚æ¬¡è°ƒæ•´æ—¶ï¼ŒUIViewã€CALayer ä¹‹é—´ä¼šå‡ºç°å¾ˆå¤šæ–¹æ³•è°ƒç”¨ä¸é€šçŸ¥ï¼Œæ‰€ä»¥åœ¨ä¼˜åŒ–æ€§èƒ½æ—¶ï¼Œåº”è¯¥å°½é‡é¿å…è°ƒæ•´è§†å›¾å±‚æ¬¡ã€æ·»åŠ å’Œç§»é™¤è§†å›¾ã€‚</p>
<p>3ã€å¯¹è±¡é”€æ¯</p>
<p>å½“å‰ç±»æŒæœ‰å¤§é‡å¯¹è±¡æ—¶å€™ï¼Œå…¶é”€æ¯æ—¶å€™çš„èµ„æºæ¶ˆè€—å°±éå¸¸æ˜æ˜¾ã€‚å»ºè®®åˆ›å»ºé”€æ¯çš„å¼‚æ­¥é˜Ÿåˆ—ï¼Œå°†éœ€è¦é”€æ¯çš„å¯¹è±¡æ”¾åˆ°é˜Ÿåˆ—ä¸­é”€æ¯ã€‚</p>
<p>4ã€å¸ƒå±€è®¡ç®—</p>
<p>å¸ƒå±€è®¡ç®—åœ¨UITableViewä½¿ç”¨ä¸­æ˜¯æœ€å¸¸è§çš„æ¶ˆè€—èµ„æºçš„åœ°æ–¹ã€‚å»ºè®®å–åˆ°æ•°æ®ä¹‹åï¼Œå¼‚æ­¥è¿›è¡Œè®¡ç®—å¸ƒå±€å¹¶ç¼“å­˜ä¸‹æ¥ï¼Œå½“å¤ç”¨Cellæ—¶å€™ç›´æ¥è°ƒç”¨ç¼“å­˜æ•°æ®ã€‚</p>
<p>5ã€AutoLayout</p>
<p>Autolayout å¯¹äºå¤æ‚è§†å›¾æ¥è¯´å¸¸å¸¸ä¼šäº§ç”Ÿä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼ŒAutoLayoutç›¸å¯¹ä½æ•ˆçš„åŸå› æ˜¯éšè—åœ¨åº•å±‚çš„å‘½åä¸ºâ€Cassowaryâ€œçš„çº¦æŸæ±‚è§£ç³»ç»Ÿï¼Œéšç€è§†å›¾æ•°é‡çš„å¢é•¿ï¼ŒAutolayout å¸¦æ¥çš„ CPU æ¶ˆè€—ä¼šå‘ˆæŒ‡æ•°çº§ä¸Šå‡ï¼Œå½“Cellå†…çº¦æŸè¶…è¿‡25ä¸ªçš„æ—¶å€™ï¼Œä¼šé™ä½æ»‘åŠ¨çš„å¸§ç‡ã€‚</p>
<p>å…·ä½“ï¼š<a href="http://pilky.me/36/" target="_blank" rel="external">http://pilky.me/36/</a></p>
<p>6ã€æ–‡æœ¬çš„è®¡ç®—ä»¥åŠæ¸²æŸ“</p>
<p>UIä¸­å­˜åœ¨å¤§é‡çš„å¯¹äºæ–‡æœ¬é«˜åº¦çš„é€‚é…ï¼Œå¯ä»¥å‚è€ƒï¼šç”¨ [NSAttributedString boundingRectWithSize:options:context:] æ¥è®¡ç®—æ–‡æœ¬å®½é«˜ï¼Œç”¨ -[NSAttributedString drawWithRect:options:context:] æ¥ç»˜åˆ¶æ–‡æœ¬ã€‚å°½ç®¡è¿™ä¸¤ä¸ªæ–¹æ³•æ€§èƒ½ä¸é”™ï¼Œä½†ä»æ—§éœ€è¦æ”¾åˆ°åå°çº¿ç¨‹è¿›è¡Œä»¥é¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚</p>
<p>å¸¸è§çš„æ–‡æœ¬æ§ä»¶ ï¼ˆUILabelã€UITextView ç­‰ï¼‰ï¼Œå…¶æ’ç‰ˆå’Œç»˜åˆ¶éƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹è¿›è¡Œçš„ï¼Œå½“æ˜¾ç¤ºå¤§é‡æ–‡æœ¬æ—¶ï¼ŒCPU çš„å‹åŠ›ä¼šéå¸¸å¤§ã€‚è§£å†³åŠæ³•æ˜¯åˆ©ç”¨TextKitæˆ–è€…æ˜¯CoreTextè‡ªå®šä¹‰æ–‡æœ¬æ§ä»¶ã€‚è¯¦è§ï¼š<a href="https://github.com/ibireme/YYText" target="_blank" rel="external">YYText</a>ã€‚</p>
<p>7ã€å›¾ç‰‡è§£ç ä»¥åŠå›¾åƒçš„ç»˜åˆ¶</p>
<p>å½“ä½ ç”¨ UIImage æˆ– CGImageSource çš„é‚£å‡ ä¸ªæ–¹æ³•åˆ›å»ºå›¾ç‰‡æ—¶ï¼Œå›¾ç‰‡æ•°æ®å¹¶ä¸ä¼šç«‹åˆ»è§£ç ã€‚å›¾ç‰‡è®¾ç½®åˆ° UIImageView æˆ–è€… CALayer.contents ä¸­å»ï¼Œå¹¶ä¸” CALayer è¢«æäº¤åˆ° GPU å‰ï¼ŒCGImage ä¸­çš„æ•°æ®æ‰ä¼šå¾—åˆ°è§£ç ã€‚è¿™ä¸€æ­¥æ˜¯å‘ç”Ÿåœ¨ä¸»çº¿ç¨‹çš„ï¼Œå¹¶ä¸”ä¸å¯é¿å…ã€‚å¦‚æœæƒ³è¦ç»•å¼€è¿™ä¸ªæœºåˆ¶ï¼Œå¸¸è§çš„åšæ³•æ˜¯åœ¨åå°çº¿ç¨‹å…ˆæŠŠå›¾ç‰‡ç»˜åˆ¶åˆ° CGBitmapContext ä¸­ï¼Œç„¶åä» Bitmap ç›´æ¥åˆ›å»ºå›¾ç‰‡ã€‚ç›®å‰å¸¸è§çš„ç½‘ç»œå›¾ç‰‡åº“éƒ½è‡ªå¸¦è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<p>ä¸ªæœ€å¸¸è§çš„åœ°æ–¹å°±æ˜¯ [UIView drawRect:] é‡Œé¢äº†ã€‚ç”±äº CoreGraphic æ–¹æ³•é€šå¸¸éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥å›¾åƒçš„ç»˜åˆ¶å¯ä»¥å¾ˆå®¹æ˜“çš„æ”¾åˆ°åå°çº¿ç¨‹è¿›è¡Œã€‚</p>
<p>8ã€æ–‡ä»¶ç³»ç»Ÿçš„è°ƒç”¨</p>
<p>NSFileManagerè·å–ä¸€ä¸ªç›®å½•è·å–æ–‡ä»¶ä¿¡æ¯ï¼Œè¿›è¡Œå¤šæ¬¡é€’å½’è®¡ç®—ï¼Œstatå‡ ä¹ç¬é—´å®Œæˆï¼ŒNSFileManagerè€—æ—¶è¾ƒé•¿ä¸”æ¶ˆè€—CPUã€‚</p>
<h3 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h3><p>GPUæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºå›¾å½¢é«˜å¹¶å‘è®¡ç®—è€Œé‡èº«å®šåšçš„å¤„ç†å•å…ƒï¼Œæ¯”CPUä½¿ç”¨æ›´å°‘çš„ç”µæ¥å®Œæˆå·¥ä½œå¹¶ä¸”GPUçš„æµ®ç‚¹è®¡ç®—èƒ½åŠ›è¦è¶…å‡ºCPUå¾ˆå¤šã€‚</p>
<p>GPUçš„æ¸²æŸ“æ€§èƒ½è¦æ¯”CPUé«˜æ•ˆå¾ˆå¤šï¼ŒåŒæ—¶å¯¹ç³»ç»Ÿçš„è´Ÿè½½å’Œæ¶ˆè€—ä¹Ÿæ›´ä½ä¸€äº›ï¼Œæ‰€ä»¥åœ¨å¼€å‘ä¸­ï¼Œ<strong>æˆ‘ä»¬åº”è¯¥å°½é‡è®©CPUè´Ÿè´£ä¸»çº¿ç¨‹çš„UIè°ƒåŠ¨ï¼ŒæŠŠå›¾å½¢æ˜¾ç¤ºç›¸å…³çš„å·¥ä½œäº¤ç»™GPUæ¥å¤„ç†</strong>ï¼Œå½“æ¶‰åŠåˆ°å…‰æ …åŒ–ç­‰ä¸€äº›å·¥ä½œæ—¶ï¼ŒCPUä¹Ÿä¼šå‚ä¸è¿›æ¥ï¼Œè¿™ç‚¹åœ¨åé¢å†è¯¦ç»†æè¿°ã€‚</p>
<p>ç›¸å¯¹äºCPUæ¥è¯´ï¼ŒGPUèƒ½å¹²çš„äº‹æƒ…æ¯”è¾ƒå•ä¸€ï¼šæ¥æ”¶æäº¤çš„çº¹ç†ï¼ˆTextureï¼‰å’Œé¡¶ç‚¹æè¿°ï¼ˆä¸‰è§’å½¢ï¼‰ï¼Œåº”ç”¨å˜æ¢ï¼ˆtransformï¼‰ã€æ··åˆï¼ˆåˆæˆï¼‰å¹¶æ¸²æŸ“ï¼Œç„¶åè¾“å‡ºåˆ°å±å¹•ä¸Šã€‚é€šå¸¸ä½ æ‰€èƒ½çœ‹åˆ°çš„å†…å®¹ï¼Œä¸»è¦ä¹Ÿå°±æ˜¯çº¹ç†ï¼ˆå›¾ç‰‡ï¼‰å’Œå½¢çŠ¶ï¼ˆä¸‰è§’æ¨¡æ‹Ÿçš„çŸ¢é‡å›¾å½¢ï¼‰ä¸¤ç±»ã€‚</p>
<h3 id="GPUèµ„æºæ¶ˆè€—åŸå› ä»¥åŠè§£å†³åŠæ³•ï¼š"><a href="#GPUèµ„æºæ¶ˆè€—åŸå› ä»¥åŠè§£å†³åŠæ³•ï¼š" class="headerlink" title="GPUèµ„æºæ¶ˆè€—åŸå› ä»¥åŠè§£å†³åŠæ³•ï¼š"></a>GPUèµ„æºæ¶ˆè€—åŸå› ä»¥åŠè§£å†³åŠæ³•ï¼š</h3><p>1ã€çº¹ç†çš„æ¸²æŸ“</p>
<p>å½“åœ¨è¾ƒçŸ­æ—¶é—´æ˜¾ç¤ºå¤§é‡å›¾ç‰‡æ—¶ï¼ˆæ¯”å¦‚ TableView å­˜åœ¨éå¸¸å¤šçš„å›¾ç‰‡å¹¶ä¸”å¿«é€Ÿæ»‘åŠ¨æ—¶ï¼‰ï¼ŒCPU å ç”¨ç‡å¾ˆä½ï¼ŒGPU å ç”¨éå¸¸é«˜ï¼Œç•Œé¢ä»ç„¶ä¼šæ‰å¸§ã€‚é¿å…è¿™ç§æƒ…å†µçš„æ–¹æ³•åªèƒ½æ˜¯å°½é‡å‡å°‘åœ¨çŸ­æ—¶é—´å†…å¤§é‡å›¾ç‰‡çš„æ˜¾ç¤ºï¼Œå°½å¯èƒ½å°†å¤šå¼ å›¾ç‰‡åˆæˆä¸ºä¸€å¼ è¿›è¡Œæ˜¾ç¤ºã€‚</p>
<p>2ã€è§†å›¾çš„æ··åˆï¼ˆBlendedï¼‰</p>
<p>è§†å›¾ç»“æ„è¿‡äºå¤æ‚ï¼Œæ··åˆçš„è¿‡ç¨‹ã€ä¼šæ¶ˆè€—å¾ˆå¤š GPU èµ„æºã€‚ä¸ºäº†å‡è½»è¿™ç§æƒ…å†µçš„ GPU æ¶ˆè€—ï¼Œåº”ç”¨åº”å½“å°½é‡å‡å°‘è§†å›¾æ•°é‡å’Œå±‚æ¬¡ï¼Œå¹¶åœ¨ä¸é€æ˜çš„è§†å›¾é‡Œæ ‡æ˜ opaque å±æ€§ä»¥é¿å…æ— ç”¨çš„ Alpha é€šé“åˆæˆã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿå¯ä»¥ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼ŒæŠŠå¤šä¸ªè§†å›¾é¢„å…ˆæ¸²æŸ“ä¸ºä¸€å¼ å›¾ç‰‡æ¥æ˜¾ç¤ºã€‚</p>
<p>Blended Layersï¼ˆè§†å›¾æ··åˆï¼‰ï¼šåœ¨åŒä¸€ä¸ªåŒºåŸŸå†…ï¼Œå­˜åœ¨ç€å¤šä¸ªæœ‰é€æ˜åº¦çš„å›¾å±‚ï¼Œé‚£ä¹ˆGPUéœ€è¦æ›´å¤šçš„è®¡ç®—ï¼Œæ··åˆä¸Šä¸‹å¤šä¸ªå›¾å±‚æ‰èƒ½å¾—å‡ºæœ€ç»ˆåƒç´ çš„RGBå€¼ã€‚</p>
<p>Misaligned Imagesï¼ˆåƒç´ å¯¹é½ï¼‰ï¼šé€»è¾‘åƒç´ ï¼ˆpointï¼‰å’Œ ç‰©ç†åƒç´ ï¼ˆpixel)æ— æ³•ç›¸åŒ¹é…ï¼›å›¾ç‰‡çš„sizeå’Œæ˜¾ç¤ºå›¾ç‰‡çš„imageViewçš„sizeï¼ˆé€»è¾‘åƒç´ ï¼ˆpointï¼‰ï¼‰ä¸ç›¸ç­‰ã€‚</p>
<p>3ã€å›¾å½¢çš„ç”Ÿæˆ</p>
<p>CALayer çš„ borderã€åœ†è§’ã€é˜´å½±ã€é®ç½©ï¼ˆmaskï¼‰ï¼ŒCASharpLayer çš„çŸ¢é‡å›¾å½¢æ˜¾ç¤ºï¼Œé€šå¸¸ä¼šè§¦å‘ç¦»å±æ¸²æŸ“ï¼ˆoffscreen renderingï¼‰ï¼Œè€Œç¦»å±æ¸²æŸ“é€šå¸¸å‘ç”Ÿåœ¨ GPU ä¸­ã€‚å¯ä»¥å°è¯•å¼€å¯ CALayer.shouldRasterize å±æ€§ï¼Œä½†è¿™ä¼šæŠŠåŸæœ¬ç¦»å±æ¸²æŸ“çš„æ“ä½œè½¬å«åˆ° CPU ä¸Šå»ã€‚</p>
<p>å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨å›¾ç‰‡é®ç½©ç­‰æ–¹æ³•ï¼Œé¿å…ä½¿ç”¨åœ†è§’å’Œéšå½¢ç­‰ã€‚<a href="http://www.imlifengfeng.com/blog/?p=593" target="_blank" rel="external">è¯¦ç»†ï¼šiOSçš„ç¦»å±æ¸²æŸ“</a></p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>1ã€é¢„å…ˆè®¡ç®—UIå¸ƒå±€</p>
<p>è·å–æ•°æ®ä¹‹åï¼Œå¼‚æ­¥è®¡ç®—Cellé«˜åº¦ä»¥åŠå„æ§ä»¶é«˜åº¦å’Œä½ç½®ï¼Œå¹¶å‚¨å­˜åœ¨CellLayouModelä¸­ï¼Œå½“æ¯æ¬¡Celléœ€è¦é«˜åº¦ä»¥åŠå†…éƒ¨å¸ƒå±€çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦è¿›è¡Œé‡å¤è®¡ç®—ã€‚</p>
<p>2ã€ä½¿ç”¨è‡ªåŠ¨ç¼“å­˜é«˜åº¦</p>
<p>iOS 8ä¹‹åå‡ºç°äº†UITableViewé€šè¿‡çº¦æŸè‡ªåŠ¨è®¡ç®—é«˜åº¦ï¼Œä½†æ˜¯å› ä¸ºiOSå¯¹äºçº¦æŸçš„ç®—æ³•é—®é¢˜ï¼Œä¼šå¯¼è‡´æµç•…æ€§é™ä½ï¼Œ<a href="http://blog.sunnyxx.com/2015/05/17/cell-height-calculation/" target="_blank" rel="external">FDTemplateLayoutCell</a>å¾ˆå¥½çš„ä¼˜åŒ–äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>3ã€å¼‚æ­¥ç»˜åˆ¶</p>
<p>Facebookçš„å¼€æºé¡¹ç›®<a href="https://github.com/TextureGroup/Texture" target="_blank" rel="external">Texture</a>ï¼ˆåŸAsyncDisplayKitï¼‰ï¼Œé€šè¿‡åˆ©ç”¨ASDisplayNodeå°è£…äº†CALayerï¼Œå®ç°äº†å¼‚æ­¥ç»˜åˆ¶ã€‚</p>
<p>ç¬¬ä¸‰æ–¹å¾®åšå®¢æˆ·ç«¯å¢¨å®¢çš„æ˜¯ç°å®ï¼Œå½“æ»‘åŠ¨æ—¶ï¼Œæ¾å¼€æ‰‹æŒ‡åï¼Œç«‹åˆ»è®¡ç®—å‡ºæ»‘åŠ¨åœæ­¢æ—¶ Cell çš„ä½ç½®ï¼Œå¹¶é¢„å…ˆç»˜åˆ¶é‚£ä¸ªä½ç½®é™„è¿‘çš„å‡ ä¸ª Cellï¼Œè€Œå¿½ç•¥å½“å‰æ»‘åŠ¨ä¸­çš„ Cellã€‚ä½†ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå¿«é€Ÿæ»‘åŠ¨çš„æ—¶å€™æœ‰å¯èƒ½ä¼šå‡ºç°å¤§é‡ç©ºç™½ã€‚</p>
<p>3ã€é«˜æ•ˆå›¾ç‰‡åŠ è½½</p>
<p><a href="https://github.com/rs/SDWebImage" target="_blank" rel="external">SDWebImage-github</a></p>
<p><a href="https://github.com/ibireme" target="_blank" rel="external">YYImage-github</a></p>
<p>4ã€é¢„åŠ è½½</p>
<p>åˆ—è¡¨å½“ä¸­ï¼Œå½“æ»‘åŠ¨åˆ°ä¸€ä¸ªå¯ä»¥è®¾å®šçš„ä½ç½®çš„æ—¶å€™ï¼Œæå‰è·å–ä¸‹è½½ä¸‹ä¸€é¡µçš„æ•°æ®ï¼Œå¹¶ç»˜åˆ¶UIã€‚è¯¦è§ï¼š<a href="https://zhuanlan.zhihu.com/p/23418800" target="_blank" rel="external">https://zhuanlan.zhihu.com/p/23418800</a>ã€‚</p>
<p>5ã€é’ˆå¯¹Blended Layersä»¥åŠMisaligned Images</p>
<p>Blended Layersï¼š</p>
<p>å°½é‡å°‘çš„ä½¿ç”¨å…·æœ‰é€æ˜è‰²çš„å›¾ç‰‡</p>
<p>å°½é‡å¤šçš„å°†UIéƒ¨ä»¶å¢åŠ èƒŒæ™¯è‰²</p>
<p>å‡å°‘åŒä¸€åƒç´ ç‚¹è¿›è¡Œè¿‡å¤šçš„é¢œè‰²è®¡ç®—</p>
<p>Misaligned Imagesï¼š</p>
<p>ç°è±¡ï¼š</p>
<p>æ´‹çº¢è‰²ï¼šUIViewçš„frameåƒç´ ä¸å¯¹é½ï¼Œå³ä¸èƒ½æ¢ç®—æˆæ•´æ•°åƒç´ å€¼ã€‚</p>
<p>é»„è‰²ï¼šUIImageViewçš„å›¾ç‰‡åƒç´ å¤§å°ä¸å…¶frame.sizeä¸å¯¹é½ï¼Œå›¾ç‰‡å‘ç”Ÿäº†ç¼©æ”¾é€ æˆã€‚</p>
<p>è§£å†³ï¼š</p>
<p>å°½é‡ä½¿ç”¨ceil()ï¼Œä¿è¯æ²¡æœ‰å°æ•°çš„UIç»˜åˆ¶</p>
<p>å°½é‡ä¸å®ç”¨0.01fæ ‡è®°UITableViewæˆ–è€…UICollectionViewçš„headerä»¥åŠfooter</p>
<p>ç½‘ç»œä¸Šè·å–çš„å›¾ç‰‡æ²¡æœ‰@2xå’Œ@3xçš„åŒºåˆ«ï¼Œéœ€è¦æˆ‘ä»¬ç¼©æ”¾å›¾ç‰‡åˆ°ä¸UIImageViewå¯¹åº”çš„å°ºå¯¸ï¼Œä¸”ç¼©æ”¾åçš„å›¾ç‰‡çš„scaleå’Œ[UIScreen mainScreen].scaleç›¸ç­‰ï¼Œå†æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<p>å…¶ä»–ï¼š</p>
<p>ä¸‹é¢çš„æƒ…å†µæˆ–æ“ä½œä¼šå¼•å‘ç¦»å±æ¸²æŸ“ï¼š</p>
<ul>
<li><p>ä¸ºå›¾å±‚è®¾ç½®é®ç½©ï¼ˆlayer.maskï¼‰</p>
</li>
<li><p>å°†å›¾å±‚çš„layer.masksToBounds / view.clipsToBoundså±æ€§è®¾ç½®ä¸ºtrue</p>
</li>
<li><p>å°†å›¾å±‚layer.allowsGroupOpacityå±æ€§è®¾ç½®ä¸ºYESå’Œlayer.opacityå°äº1.0</p>
</li>
<li><p>ä¸ºå›¾å±‚è®¾ç½®é˜´å½±ï¼ˆlayer.shadow *ï¼‰ã€‚</p>
</li>
<li><p>ä¸ºå›¾å±‚è®¾ç½®layer.shouldRasterize=true</p>
</li>
<li><p>å…·æœ‰layer.cornerRadiusï¼Œlayer.edgeAntialiasingMaskï¼Œlayer.allowsEdgeAntialiasingçš„å›¾å±‚</p>
</li>
<li><p>æ–‡æœ¬ï¼ˆä»»ä½•ç§ç±»ï¼ŒåŒ…æ‹¬UILabelï¼ŒCATextLayerï¼ŒCore Textç­‰ï¼‰ã€‚</p>
</li>
<li><p>ä½¿ç”¨CGContextåœ¨drawRect :æ–¹æ³•ä¸­ç»˜åˆ¶å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¼šå¯¼è‡´ç¦»å±æ¸²æŸ“ï¼Œç”šè‡³ä»…ä»…æ˜¯ä¸€ä¸ªç©ºçš„å®ç°ã€‚</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-å…¶ä»– " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/12/ViewControllerå„æ–¹æ³•æ‰§è¡Œé¡ºåº/" itemprop="url">
                  UIViewControllerå„æ–¹æ³•çš„è°ƒç”¨é¡ºåºåŠåŠŸèƒ½
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-08-12T17:25:19+08:00" content="Aug 12 2017">
              Aug 12 2017
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UIViewControllerå„æ–¹æ³•çš„è°ƒç”¨é¡ºåºåŠåŠŸèƒ½"><a href="#UIViewControllerå„æ–¹æ³•çš„è°ƒç”¨é¡ºåºåŠåŠŸèƒ½" class="headerlink" title="UIViewControllerå„æ–¹æ³•çš„è°ƒç”¨é¡ºåºåŠåŠŸèƒ½"></a>UIViewControllerå„æ–¹æ³•çš„è°ƒç”¨é¡ºåºåŠåŠŸèƒ½</h1><h2 id="1-instancetype-initWithNibNameï¼šbundleï¼š"><a href="#1-instancetype-initWithNibNameï¼šbundleï¼š" class="headerlink" title="1. -(instancetype)initWithNibNameï¼šbundleï¼š"></a>1. -(instancetype)initWithNibNameï¼šbundleï¼š</h2><p>//è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨controllerçš„ç±»åœ¨IBä¸­åˆ›å»ºï¼Œä½†æ˜¯æ˜¯é€šè¿‡Xcodeå®ä¾‹åŒ–controllerçš„æ—¶å€™è°ƒç”¨çš„.<br>//ä¸€èˆ¬æƒ…å†µä¸‹è°ƒç”¨ init æ–¹æ³•æˆ–è€…è°ƒç”¨ initWithNibName æ–¹æ³•çš„å®ä¾‹åŒ–UIViewControllerï¼Œä¸ç®¡è°ƒç”¨å“ªä¸ªæ–¹æ³•éƒ½ä¼šè°ƒç”¨initWithNibNameã€‚<br>/<em><br>å¦‚æœæ˜¯é€šè¿‡è°ƒç”¨initWithNibName:bundleæŒ‡å®šnibæ–‡ä»¶ååˆå§‹åŒ–çš„è¯ï¼ŒViewControllerä¼šæ ¹æ®æ­¤nibæ¥åˆ›å»ºViewã€‚å¦‚æœnameå‚æ•°ä¸ºnilï¼Œåˆ™ViewControllerä¼šé€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤æ‰¾åˆ°ä¸å…¶å…³è”çš„nibï¼š<br>1ï¼‰æ‰¾è·ŸViewControllerç±»åä¸€æ ·çš„æ–‡ä»¶ï¼Œä¾‹å¦‚MyViewControllerï¼Œåˆ™æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨MyViewController.nib<br>2ï¼‰å¦‚æœViewControllerçš„ç±»åä»¥â€œControllerâ€ç»“å°¾ï¼Œä¾‹å¦‚ViewControllerçš„ç±»åæ˜¯MyViewControllerï¼Œåˆ™æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨MyView.nibï¼›    
</em>/</p>
<pre><code>-(instancetype)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
</code></pre><h2 id="2-void-loadView"><a href="#2-void-loadView" class="headerlink" title="2. -(void)loadView"></a>2. -(void)loadView</h2><p>å½“è®¿é—® UIViewController çš„ view å±æ€§æ—¶ï¼Œview å¦‚æœæ­¤æ—¶æ˜¯ nilï¼Œé‚£ä¹ˆ VC ä¼šè‡ªåŠ¨è°ƒç”¨ loadView æ–¹æ³•æ¥åˆå§‹åŒ–ä¸€ä¸ª UIView å¹¶èµ‹å€¼ç»™ view å±æ€§ã€‚å¦‚æœæ²¡æœ‰é‡è½½ loadView æ–¹æ³•ï¼Œåˆ™ UIViewController ä¼šä» nib æˆ– StoryBoard ä¸­æŸ¥æ‰¾é»˜è®¤çš„ loadView ï¼Œé»˜è®¤çš„ loadView ä¼šè¿”å›ä¸€ä¸ªç©ºç™½çš„ UIView å¯¹è±¡ã€‚</p>
<p>æ­¤æ–¹æ³•åœ¨æ§åˆ¶å™¨çš„ view ä¸º nil çš„æ—¶å€™è¢«è°ƒç”¨ã€‚ æ­¤æ–¹æ³•ç”¨äºä»¥ç¼–ç¨‹çš„æ–¹å¼åˆ›å»º view çš„æ—¶å€™ç”¨åˆ°ã€‚loadView æ˜¯ä½¿ç”¨ä»£ç ç”Ÿæˆè§†å›¾çš„æ—¶å€™ï¼Œå½“è§†å›¾ç¬¬ä¸€æ¬¡è½½å…¥çš„æ—¶å€™è°ƒç”¨çš„æ–¹æ³•ã€‚ç”¨äºä½¿ç”¨ï¼ˆå†™ï¼‰ä»£ç æ¥å®ç°æ§ä»¶ã€‚ç”¨äºä½¿ç”¨ä»£ç ç”Ÿæˆæ§ä»¶çš„å‡½æ•°</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨viewåˆå§‹åŒ–ä¹‹å‰ï¼Œä¸èƒ½å…ˆè°ƒç”¨viewçš„getteræ–¹æ³•ï¼Œå¦åˆ™å°†å¯¼è‡´æ­»å¾ªç¯ï¼ˆé™¤éå…ˆè°ƒç”¨äº†[supper loadView]ï¼‰;</p>
<h2 id="3-void-viewDidLoad"><a href="#3-void-viewDidLoad" class="headerlink" title="3. -(void)viewDidLoad"></a>3. -(void)viewDidLoad</h2><p>å¦‚æœ loadView ä¸èƒ½ç”Ÿæˆ UIViewController.view, ç³»ç»Ÿå°†ä¼šåå¤è°ƒç”¨ loadView åŠ viewDidLoad æ–¹æ³•, å¹¶ä¸”æœ€ç»ˆè°ƒç”¨ [super loadView] æ–¹æ³•è¿”å› UIViewController.viewã€‚</p>
<p>å½“VCçš„viewå¯¹è±¡è½½å…¥å†…å­˜åè°ƒç”¨ï¼Œç”¨äºå¯¹viewè¿›è¡Œé¢å¤–çš„åˆå§‹åŒ–æ“ä½œ ã€‚</p>
<h2 id="4-void-viewWillAppear-BOOL-animated"><a href="#4-void-viewWillAppear-BOOL-animated" class="headerlink" title="4. -(void)viewWillAppear:(BOOL)animated"></a>4. -(void)viewWillAppear:(BOOL)animated</h2><p>è§†å›¾å³å°†å¯è§æ—¶è°ƒç”¨(è¿™ä¸ªæ—¶å€™ supperView è¿˜æ˜¯ nilï¼Œå³æ˜¾ç¤ºåŠ¨ç”»åˆ‡æ¢ä¹‹å‰è°ƒç”¨ )ã€‚é»˜è®¤æƒ…å†µä¸‹ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚</p>
<p>è¿™ä¸ªæ–¹æ³•ä¸­å®Œæˆä»»ä½•ä¸è§†å›¾æ˜¾ç¤ºç›¸å…³çš„ä»»åŠ¡ï¼Œä¾‹å¦‚æ”¹å˜è§†å›¾æ–¹å‘ã€çŠ¶æ€æ æ–¹å‘ã€è§†å›¾æ˜¾ç¤ºæ ·å¼ç­‰ã€‚</p>
<h2 id="5-void-viewWillLayoutSubviews"><a href="#5-void-viewWillLayoutSubviews" class="headerlink" title="5. -(void)viewWillLayoutSubviews"></a>5. -(void)viewWillLayoutSubviews</h2><p>view å³å°†å¸ƒå±€å…¶ Subviewsã€‚æ¯”å¦‚ view çš„ bounds æ”¹å˜äº†(ä¾‹å¦‚çŠ¶æ€æ ä»ä¸æ˜¾ç¤ºåˆ°æ˜¾ç¤ºï¼Œè§†å›¾æ–¹å‘å˜åŒ–)ï¼Œè¦è°ƒæ•´ Subviews çš„ä½ç½®ï¼Œåœ¨è°ƒæ•´ä¹‹å‰è¦åšçš„ä¸€äº›å·¥ä½œå°±å¯ä»¥åœ¨è¯¥æ–¹æ³•ä¸­å®ç°ã€‚</p>
<h2 id="6-void-viewDidLayoutSubviews"><a href="#6-void-viewDidLayoutSubviews" class="headerlink" title="6. -(void)viewDidLayoutSubviews"></a>6. -(void)viewDidLayoutSubviews</h2><p>view å·²ç»å¸ƒå±€å…¶ Subviewsã€‚æ¯”å¦‚ view çš„ bounds æ”¹å˜äº†(ä¾‹å¦‚çŠ¶æ€æ ä»ä¸æ˜¾ç¤ºåˆ°æ˜¾ç¤ºï¼Œè§†å›¾æ–¹å‘å˜åŒ–)ï¼Œå·²ç»è°ƒæ•´ Subviews çš„ä½ç½®ï¼Œåœ¨è°ƒæ•´å®Œæˆä¹‹åè¦åšçš„ä¸€äº›å·¥ä½œå°±å¯ä»¥åœ¨è¯¥æ–¹æ³•ä¸­å®ç°ã€‚</p>
<h2 id="7-void-viewDidAppear-BOOL-animated"><a href="#7-void-viewDidAppear-BOOL-animated" class="headerlink" title="7. -(void)viewDidAppear:(BOOL)animated"></a>7. -(void)viewDidAppear:(BOOL)animated</h2><p>è§†å›¾å·²å®Œå…¨è¿‡æ¸¡åˆ°å±å¹•ä¸Šæ—¶è°ƒç”¨ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ‰§è¡Œè§†å›¾æ˜¾ç¤ºç›¸å…³é™„ä»¶ä»»åŠ¡ï¼Œå¦‚æœé‡è½½äº†è¿™ä¸ªæ–¹æ³•ï¼Œå¿…é¡»åœ¨æ–¹æ³•ä¸­è°ƒç”¨ [supper<br>viewDidAppear]ã€‚</p>
<h1 id="é‡Šæ”¾è¿‡ç¨‹"><a href="#é‡Šæ”¾è¿‡ç¨‹" class="headerlink" title="é‡Šæ”¾è¿‡ç¨‹"></a>é‡Šæ”¾è¿‡ç¨‹</h1><h2 id="8-void-viewWillDisappear-BOOL-animated"><a href="#8-void-viewWillDisappear-BOOL-animated" class="headerlink" title="8. -(void)viewWillDisappear:(BOOL)animated"></a>8. -(void)viewWillDisappear:(BOOL)animated</h2><p>view å³å°†ä» superView ä¸­ç§»é™¤ä¸”ç§»é™¤åŠ¨ç”»åˆ‡æ¢ä¹‹å‰ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰è°ƒç”¨ removeFromSuperviewã€‚</p>
<h2 id="9-void-viewDidDisappear-BOOL-animated"><a href="#9-void-viewDidDisappear-BOOL-animated" class="headerlink" title="9. -(void)viewDidDisappear:(BOOL)animated"></a>9. -(void)viewDidDisappear:(BOOL)animated</h2><p>viewä»superViewä¸­ç§»é™¤ï¼Œç§»é™¤åŠ¨ç”»åˆ‡æ¢ä¹‹åè°ƒç”¨ï¼Œæ­¤æ—¶å·²è°ƒç”¨removeFromSuperviewã€‚</p>
<h2 id="10-void-didReceiveMemoryWarning"><a href="#10-void-didReceiveMemoryWarning" class="headerlink" title="10. -(void)didReceiveMemoryWarning"></a>10. -(void)didReceiveMemoryWarning</h2><p>å½“ç³»ç»Ÿçš„å†…å­˜ä¸è¶³æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯¥æ–¹æ³•é‡Œé‡Šæ”¾æ‰éƒ¨åˆ†æš‚æ—¶ä¸ç”¨çš„èµ„æºã€‚</p>
<h2 id="11-void-dealloc"><a href="#11-void-dealloc" class="headerlink" title="11. -(void)dealloc"></a>11. -(void)dealloc</h2><p>viewController æœ€åçš„æ¸…ç†å·¥ä½œï¼Œé‡Šæ”¾è§†å›¾å¯¹è±¡çš„å¼•ç”¨å’Œ viewController æ‰€éœ€æ•°æ®ç»“æ„ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li>loadView (å½“è®¿é—®UIViewControllerçš„viewå±æ€§æ—¶)</li>
<li>viewDidLoad (åŠ è½½è§†å›¾æ—¶è°ƒç”¨)</li>
<li>viewWillAppear (è§†å›¾å³å°†å¯è§æ—¶è°ƒç”¨)</li>
<li>viewDidAppear (è§†å›¾å³å°†åŠ å…¥çª—å£æ—¶è°ƒç”¨)</li>
<li>viewWillLayoutSubviews (è§†å›¾å¸ƒå±€æ”¹å˜æ—¶è°ƒç”¨ï¼Œå¦‚ï¼šå±å¹•æ—‹è½¬ï¼‰</li>
<li>viewDidLayoutSubviews åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä¼šè¢«è°ƒç”¨ï¼š<ul>
<li>1ã€initåˆå§‹åŒ–ä¸ä¼šè§¦å‘layoutSubviews</li>
<li>2ã€addSubviewä¼šè§¦å‘layoutSubviews</li>
<li>3ã€è®¾ç½®viewçš„Frameä¼šè§¦å‘layoutSubviewsï¼Œå½“ç„¶å‰ææ˜¯frameçš„å€¼è®¾ç½®å‰åå‘ç”Ÿäº†å˜åŒ–</li>
<li>4ã€æ»šåŠ¨ä¸€ä¸ªUIScrollViewä¼šè§¦å‘layoutSubviews</li>
<li>5ã€æ—‹è½¬Screenä¼šè§¦å‘çˆ¶UIViewä¸Šçš„layoutSubviewsäº‹ä»¶</li>
<li>6ã€æ”¹å˜ä¸€ä¸ªUIViewå¤§å°çš„æ—¶å€™ä¹Ÿä¼šè§¦å‘çˆ¶UIViewä¸Šçš„layoutSubviewsäº‹ä»¶<br>viewWillDisappearï¼ˆè§†å›¾å°†è¢«ä»å±å¹•ä¸Šç§»é™¤ä¹‹å‰è°ƒç”¨ï¼‰<br>viewDidDisappear ( è§†å›¾å·²ç»è¢«ä»å±å¹•ä¸Šç§»é™¤ï¼Œç”¨æˆ·çœ‹ä¸åˆ°è¿™ä¸ªè§†å›¾äº†è°ƒç”¨)</li>
</ul>
</li>
<li>å½“ä¸€ä¸ªè§†å›¾æ§åˆ¶å™¨è¢«åˆ›å»ºï¼Œå¹¶åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„æ—¶å€™ã€‚ ä»£ç çš„æ‰§è¡Œé¡ºåº<ul>
<li>1ã€alloc                  åˆ›å»ºå¯¹è±¡ï¼Œåˆ†é…ç©ºé—´</li>
<li>2ã€init (initWithNibName) åˆå§‹åŒ–å¯¹è±¡ï¼Œåˆå§‹åŒ–æ•°æ®</li>
<li>3ã€loadView               ä»nibè½½å…¥è§†å›¾ ï¼Œé€šå¸¸è¿™ä¸€æ­¥ä¸éœ€è¦å»å¹²æ¶‰ã€‚é™¤éä½ æ²¡æœ‰ä½¿ç”¨xibæ–‡ä»¶åˆ›å»ºè§†å›¾</li>
<li>4ã€viewDidLoad            è½½å…¥å®Œæˆï¼Œå¯ä»¥è¿›è¡Œè‡ªå®šä¹‰æ•°æ®ä»¥åŠåŠ¨æ€åˆ›å»ºå…¶ä»–æ§ä»¶</li>
<li>5ã€viewWillAppear         è§†å›¾å°†å‡ºç°åœ¨å±å¹•ä¹‹å‰ï¼Œé©¬ä¸Šè¿™ä¸ªè§†å›¾å°±ä¼šè¢«å±•ç°åœ¨å±å¹•ä¸Šäº†</li>
<li>6ã€viewDidAppear          è§†å›¾å·²åœ¨å±å¹•ä¸Šæ¸²æŸ“å®Œæˆ</li>
</ul>
</li>
<li>å½“ä¸€ä¸ªè§†å›¾è¢«ç§»é™¤å±å¹•å¹¶ä¸”é”€æ¯çš„æ—¶å€™çš„æ‰§è¡Œé¡ºåºï¼Œè¿™ä¸ªé¡ºåºå·®ä¸å¤šå’Œä¸Šé¢çš„ç›¸å<ul>
<li>1ã€viewWillDisappear      è§†å›¾å°†è¢«ä»å±å¹•ä¸Šç§»é™¤ä¹‹å‰æ‰§è¡Œ</li>
<li>2ã€viewDidDisappear       è§†å›¾å·²ç»è¢«ä»å±å¹•ä¸Šç§»é™¤ï¼Œç”¨æˆ·çœ‹ä¸åˆ°è¿™ä¸ªè§†å›¾äº†</li>
<li>3ã€dealloc                è§†å›¾è¢«é”€æ¯ï¼Œæ­¤å¤„éœ€è¦å¯¹ä½ åœ¨initå’ŒviewDidLoadä¸­åˆ›å»ºçš„å¯¹è±¡è¿›è¡Œé‡Šæ”¾</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/12/å¯¼èˆªæ çš„æ­£å¸¸éšè—æ–¹å¼/" itemprop="url">
                  é¡¶éƒ¨å¯¼èˆªæ 
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-08-12T16:58:13+08:00" content="Aug 12 2017">
              Aug 12 2017
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h3 id="é¡¹ç›®ä¸­ç»å¸¸ä¼šç¢°åˆ°é¡¶éƒ¨å¯¼èˆªæ éœ€è¦éšè—çš„æƒ…å†µï¼Œè¿™é‡Œç»™å‡ºä¸‰ç§æ–¹æ³•ã€‚"><a href="#é¡¹ç›®ä¸­ç»å¸¸ä¼šç¢°åˆ°é¡¶éƒ¨å¯¼èˆªæ éœ€è¦éšè—çš„æƒ…å†µï¼Œè¿™é‡Œç»™å‡ºä¸‰ç§æ–¹æ³•ã€‚" class="headerlink" title="é¡¹ç›®ä¸­ç»å¸¸ä¼šç¢°åˆ°é¡¶éƒ¨å¯¼èˆªæ éœ€è¦éšè—çš„æƒ…å†µï¼Œè¿™é‡Œç»™å‡ºä¸‰ç§æ–¹æ³•ã€‚"></a>é¡¹ç›®ä¸­ç»å¸¸ä¼šç¢°åˆ°é¡¶éƒ¨å¯¼èˆªæ éœ€è¦éšè—çš„æƒ…å†µï¼Œè¿™é‡Œç»™å‡ºä¸‰ç§æ–¹æ³•ã€‚</h3><h2 id="ç¬¬ä¸€ç§"><a href="#ç¬¬ä¸€ç§" class="headerlink" title="ç¬¬ä¸€ç§"></a>ç¬¬ä¸€ç§</h2><h3 id="ç®€å•ç²—æš´ç›´æ¥ä¸Šæ¥å°±éšè—æ‰å¯¼èˆªæ ï¼Œåœ¨åŸºç±»ä¸­è‡ªå·±å®šä¹‰viewå……å½“å¯¼èˆªæ çš„ä½œç”¨"><a href="#ç®€å•ç²—æš´ç›´æ¥ä¸Šæ¥å°±éšè—æ‰å¯¼èˆªæ ï¼Œåœ¨åŸºç±»ä¸­è‡ªå·±å®šä¹‰viewå……å½“å¯¼èˆªæ çš„ä½œç”¨" class="headerlink" title="ç®€å•ç²—æš´ç›´æ¥ä¸Šæ¥å°±éšè—æ‰å¯¼èˆªæ ï¼Œåœ¨åŸºç±»ä¸­è‡ªå·±å®šä¹‰viewå……å½“å¯¼èˆªæ çš„ä½œç”¨"></a>ç®€å•ç²—æš´ç›´æ¥ä¸Šæ¥å°±éšè—æ‰å¯¼èˆªæ ï¼Œåœ¨åŸºç±»ä¸­è‡ªå·±å®šä¹‰viewå……å½“å¯¼èˆªæ çš„ä½œç”¨</h3><h2 id="ç¬¬äºŒç§"><a href="#ç¬¬äºŒç§" class="headerlink" title="ç¬¬äºŒç§"></a>ç¬¬äºŒç§</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- (void)viewWillAppear:(BOOL)animated &#123;</div><div class="line">    [super viewWillAppear:animated];</div><div class="line">    </div><div class="line">    [self.navigationController setNavigationBarHidden:YES animated:animated];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)viewWillDisappear:(BOOL)animated &#123;</div><div class="line">    [super viewWillDisappear:animated];</div><div class="line">    </div><div class="line">    [self.navigationController setNavigationBarHidden:NO animated:animated];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="è¿™é‡Œä¸€å®šè¦ç”¨åŠ¨ç”»çš„æ–¹å¼éšè—å¯¼èˆªæ -è¿™æ ·åœ¨ä½¿ç”¨æ»‘åŠ¨è¿”å›æ‰‹åŠ¿çš„æ—¶å€™æ•ˆæœæœ€å¥½-å’Œä¸Šé¢åŠ¨å›¾ä¸€è‡´-è¿™æ ·åšæœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯åœ¨åˆ‡æ¢tabBarçš„æ—¶å€™æœ‰ä¸€ä¸ªå¯¼èˆªæ å‘ä¸Šæ¶ˆå¤±çš„åŠ¨ç”»ã€‚"><a href="#è¿™é‡Œä¸€å®šè¦ç”¨åŠ¨ç”»çš„æ–¹å¼éšè—å¯¼èˆªæ -è¿™æ ·åœ¨ä½¿ç”¨æ»‘åŠ¨è¿”å›æ‰‹åŠ¿çš„æ—¶å€™æ•ˆæœæœ€å¥½-å’Œä¸Šé¢åŠ¨å›¾ä¸€è‡´-è¿™æ ·åšæœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯åœ¨åˆ‡æ¢tabBarçš„æ—¶å€™æœ‰ä¸€ä¸ªå¯¼èˆªæ å‘ä¸Šæ¶ˆå¤±çš„åŠ¨ç”»ã€‚" class="headerlink" title="è¿™é‡Œä¸€å®šè¦ç”¨åŠ¨ç”»çš„æ–¹å¼éšè—å¯¼èˆªæ ,è¿™æ ·åœ¨ä½¿ç”¨æ»‘åŠ¨è¿”å›æ‰‹åŠ¿çš„æ—¶å€™æ•ˆæœæœ€å¥½,å’Œä¸Šé¢åŠ¨å›¾ä¸€è‡´.è¿™æ ·åšæœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯åœ¨åˆ‡æ¢tabBarçš„æ—¶å€™æœ‰ä¸€ä¸ªå¯¼èˆªæ å‘ä¸Šæ¶ˆå¤±çš„åŠ¨ç”»ã€‚"></a>è¿™é‡Œä¸€å®šè¦ç”¨åŠ¨ç”»çš„æ–¹å¼éšè—å¯¼èˆªæ ,è¿™æ ·åœ¨ä½¿ç”¨æ»‘åŠ¨è¿”å›æ‰‹åŠ¿çš„æ—¶å€™æ•ˆæœæœ€å¥½,å’Œä¸Šé¢åŠ¨å›¾ä¸€è‡´.è¿™æ ·åšæœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯åœ¨åˆ‡æ¢tabBarçš„æ—¶å€™æœ‰ä¸€ä¸ªå¯¼èˆªæ å‘ä¸Šæ¶ˆå¤±çš„åŠ¨ç”»ã€‚</h3><h2 id="ç¬¬ä¸‰ç§åšæ³•ï¼ˆæ¨èï¼‰"><a href="#ç¬¬ä¸‰ç§åšæ³•ï¼ˆæ¨èï¼‰" class="headerlink" title="ç¬¬ä¸‰ç§åšæ³•ï¼ˆæ¨èï¼‰"></a>ç¬¬ä¸‰ç§åšæ³•ï¼ˆæ¨èï¼‰</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">@interface HomePageController () &lt;UINavigationControllerDelegate&gt;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation HomePageController </div><div class="line"></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    </div><div class="line">    // è®¾ç½®å¯¼èˆªæ§åˆ¶å™¨çš„ä»£ç†ä¸ºself</div><div class="line">    self.navigationController.delegate = self;</div><div class="line">&#125;</div><div class="line"></div><div class="line">#pragma mark - UINavigationControllerDelegate</div><div class="line">// å°†è¦æ˜¾ç¤ºæ§åˆ¶å™¨</div><div class="line">- (void)navigationController:(UINavigationController *)navigationController willShowViewController:(UIViewController *)viewController animated:(BOOL)animated &#123;</div><div class="line">    // åˆ¤æ–­è¦æ˜¾ç¤ºçš„æ§åˆ¶å™¨æ˜¯å¦æ˜¯è‡ªå·±</div><div class="line">    BOOL isShowHomePage = [viewController isKindOfClass:[self class]];</div><div class="line">    </div><div class="line">    [self.navigationController setNavigationBarHidden:isShowHomePage animated:YES];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)dealloc &#123;</div><div class="line">    self.navigationController.delegate = nil;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="æ³¨æ„-æœ€åè¦è®°å¾—åœ¨æ§åˆ¶å™¨é”€æ¯çš„æ—¶å€™æŠŠå¯¼èˆªæ çš„ä»£ç†è®¾ç½®ä¸ºnil"><a href="#æ³¨æ„-æœ€åè¦è®°å¾—åœ¨æ§åˆ¶å™¨é”€æ¯çš„æ—¶å€™æŠŠå¯¼èˆªæ çš„ä»£ç†è®¾ç½®ä¸ºnil" class="headerlink" title="æ³¨æ„(æœ€åè¦è®°å¾—åœ¨æ§åˆ¶å™¨é”€æ¯çš„æ—¶å€™æŠŠå¯¼èˆªæ çš„ä»£ç†è®¾ç½®ä¸ºnil)"></a>æ³¨æ„(æœ€åè¦è®°å¾—åœ¨æ§åˆ¶å™¨é”€æ¯çš„æ—¶å€™æŠŠå¯¼èˆªæ çš„ä»£ç†è®¾ç½®ä¸ºnil)</h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/AliPay.png"
               alt="chuandong ding" />
          <p class="site-author-name" itemprop="name">chuandong ding</p>
          <p class="site-description motion-element" itemprop="description">iOS</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">18</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/dingchuandong" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="twitter" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/2725322503" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://slarker.me/" title="slarker" target="_blank">slarker</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://opsnotes.net/about/" title="å¤§ç¥" target="_blank">å¤§ç¥</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chuandong ding</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
